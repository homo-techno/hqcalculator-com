---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Tent Size Calculator - Event Tent & Marquee Dimensions";
const description = "Calculate the right tent or marquee size for your event based on guest count, seating style, dance floor, and extra areas like bars and buffets.";
const relatedCalcs = [
  { name: "Seating Chart Calculator", url: "/seating-chart-calculator", description: "Table layout planner." },
  { name: "Banquet Room Calculator", url: "/banquet-room-calculator", description: "Room size for events." },
  { name: "Event Budget Calculator", url: "/event-budget-calculator", description: "Total event cost breakdown." },
  { name: "Event Lighting Calculator", url: "/event-lighting-calculator", description: "Lighting for your venue." },
  { name: "Sound System Calculator", url: "/sound-system-calculator", description: "Speaker wattage needed." },
  { name: "Event Staffing Calculator", url: "/event-staffing-calculator", description: "Staff needed for events." },
];
---

<CalculatorLayout
  title={title}
  description={description}
  calculatorName="Tent Size Calculator"
  keywords="tent size calculator, event tent, marquee size, party tent, wedding tent, tent rental"
  breadcrumbs={[{ name: "Tent Size", url: "/tent-size-calculator" }]}
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Tent Size Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Find the right tent or marquee size for your outdoor event.</p>

    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4 mb-6">
        <div>
          <label class="block text-sm font-medium text-text mb-1">Number of Guests</label>
          <input type="number" id="tn2-guests" class="tn2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="100" min="1" step="1">
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Seating Style</label>
          <select id="tn2-style" class="tn2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="seated">Seated Dinner (round tables)</option>
            <option value="banquet">Banquet (long tables)</option>
            <option value="cocktail">Cocktail / Standing</option>
            <option value="theater">Theater / Ceremony Rows</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Dance Floor</label>
          <select id="tn2-dance" class="tn2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="0">No dance floor</option>
            <option value="144">Small (12x12 ft)</option>
            <option value="256" selected>Medium (16x16 ft)</option>
            <option value="400">Large (20x20 ft)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Bar Area</label>
          <select id="tn2-bar" class="tn2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="0">No bar</option>
            <option value="100" selected>Single bar (100 sq ft)</option>
            <option value="200">Double bar (200 sq ft)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Buffet / Food Station Area</label>
          <select id="tn2-buffet" class="tn2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="0">No buffet (plated service)</option>
            <option value="100">Small station (100 sq ft)</option>
            <option value="200" selected>Buffet line (200 sq ft)</option>
            <option value="350">Multiple stations (350 sq ft)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Stage / Band Area (sq ft)</label>
          <input type="number" id="tn2-stage" class="tn2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0" min="0" step="25">
        </div>
      </div>

      <div class="p-6 bg-primary rounded-2xl text-white text-center mb-4">
        <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Recommended Tent Size</div>
        <div class="text-5xl font-extrabold" id="tn2-size">--</div>
        <div class="text-sm mt-1" id="tn2-sqft">--</div>
      </div>

      <div class="grid grid-cols-2 gap-4 mb-4">
        <div class="p-4 bg-surface-alt rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Seating Area</div>
          <div class="text-xl font-bold" id="tn2-seatarea">--</div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Extra Areas</div>
          <div class="text-xl font-bold" id="tn2-extras">--</div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Sq Ft per Guest</div>
          <div class="text-xl font-bold" id="tn2-ppguest">--</div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Common Tent Size</div>
          <div class="text-xl font-bold" id="tn2-common">--</div>
        </div>
      </div>

      <ShareButton calculatorId="tent-size" />
      <FeedbackWidget />
    </div>

    <article class="mt-12 max-w-4xl prose prose-slate">
      <h2 class="text-2xl font-bold text-text">Tent Size Guide</h2>
      <p>Standard space per guest: 10-12 sq ft for seated dinner, 6-8 sq ft for cocktail standing, 8-10 sq ft for theater seating. Always add 10-15% buffer for walkways and service areas.</p>
      <h3 class="text-xl font-semibold text-text mt-6">Common Tent Sizes</h3>
      <ul>
        <li>20x30 (600 sq ft) - 40-60 guests standing</li>
        <li>30x60 (1,800 sq ft) - 100 seated or 180 standing</li>
        <li>40x80 (3,200 sq ft) - 200 seated or 350 standing</li>
        <li>60x90 (5,400 sq ft) - 300+ seated</li>
      </ul>
    </article>

    <RelatedCalculators calculators={relatedCalcs} />
  </div>

  <script>
    function calcTN2() {
      const guests = parseInt((document.getElementById('tn2-guests') as HTMLInputElement).value) || 1;
      const style = (document.getElementById('tn2-style') as HTMLSelectElement).value;
      const danceArea = parseInt((document.getElementById('tn2-dance') as HTMLSelectElement).value) || 0;
      const barArea = parseInt((document.getElementById('tn2-bar') as HTMLSelectElement).value) || 0;
      const buffetArea = parseInt((document.getElementById('tn2-buffet') as HTMLSelectElement).value) || 0;
      const stageArea = parseInt((document.getElementById('tn2-stage') as HTMLInputElement).value) || 0;

      let sqftPerGuest = 12;
      if (style === 'seated') sqftPerGuest = 12;
      else if (style === 'banquet') sqftPerGuest = 10;
      else if (style === 'cocktail') sqftPerGuest = 7;
      else if (style === 'theater') sqftPerGuest = 8;

      const seatingArea = guests * sqftPerGuest;
      const extraArea = danceArea + barArea + buffetArea + stageArea;
      const subtotal = seatingArea + extraArea;
      const totalSqft = Math.ceil(subtotal * 1.12);

      const tentSizes = [
        { w: 20, l: 20 }, { w: 20, l: 30 }, { w: 20, l: 40 }, { w: 30, l: 30 },
        { w: 30, l: 45 }, { w: 30, l: 60 }, { w: 30, l: 90 }, { w: 40, l: 40 },
        { w: 40, l: 60 }, { w: 40, l: 80 }, { w: 40, l: 100 }, { w: 60, l: 60 },
        { w: 60, l: 90 }, { w: 60, l: 120 }, { w: 80, l: 100 }, { w: 80, l: 120 },
      ];
      let best = tentSizes[tentSizes.length - 1];
      for (const t of tentSizes) {
        if (t.w * t.l >= totalSqft) { best = t; break; }
      }

      document.getElementById('tn2-size')!.textContent = best.w + ' x ' + best.l + ' ft';
      document.getElementById('tn2-sqft')!.textContent = (best.w * best.l).toLocaleString() + ' sq ft total tent area';
      document.getElementById('tn2-seatarea')!.textContent = seatingArea.toLocaleString() + ' sq ft';
      document.getElementById('tn2-extras')!.textContent = extraArea.toLocaleString() + ' sq ft';
      document.getElementById('tn2-ppguest')!.textContent = sqftPerGuest + ' sq ft';
      document.getElementById('tn2-common')!.textContent = best.w + 'x' + best.l;

      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.tn2-in').forEach(el => { el.addEventListener('input', calcTN2); el.addEventListener('change', calcTN2); });
      calcTN2();
    }, 50);
  </script>
</CalculatorLayout>
