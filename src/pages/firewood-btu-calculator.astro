---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Firewood BTU Calculator - Heating Value by Species";
const description = "Compare BTU per cord by wood species. Calculate heating value, cost per million BTU, and find the most efficient firewood for your needs.";
const relatedCalcs = [
  { name: "Firewood Calculator", url: "/firewood-calculator", description: "Firewood cord and heating needs." },
  { name: "BTU Calculator", url: "/btu-calculator", description: "General BTU calculations." },
  { name: "Energy Converter", url: "/energy-converter", description: "Convert energy units." },
  { name: "Temperature Converter", url: "/temperature-converter", description: "Convert temperatures." },
  { name: "Carbon Footprint", url: "/carbon-footprint-calculator", description: "Estimate carbon emissions." },
  { name: "Budget Calculator", url: "/budget-calculator", description: "Plan your budget." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Firewood BTU Calculator" keywords="firewood BTU, BTU per cord, wood species heat value, firewood comparison, cost per million BTU" breadcrumbs={[{ name: "Firewood BTU", url: "/firewood-btu-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Firewood BTU Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Compare heating value by species and find the best firewood value per dollar.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div>
          <label class="block text-xs font-medium text-text mb-1">Wood Species</label>
          <select id="fb-species" class="fb-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold">
            <option value="27.7">Osage Orange (27.7M BTU/cord)</option>
            <option value="26.7">Hickory, Shagbark (26.7M BTU/cord)</option>
            <option value="25.7">Black Locust (25.7M BTU/cord)</option>
            <option value="24.6" selected>White Oak (24.6M BTU/cord)</option>
            <option value="24.0">Red Oak (24.0M BTU/cord)</option>
            <option value="22.7">Hard Maple (22.7M BTU/cord)</option>
            <option value="21.8">Ash (21.8M BTU/cord)</option>
            <option value="20.3">Birch (20.3M BTU/cord)</option>
            <option value="20.0">Cherry (20.0M BTU/cord)</option>
            <option value="18.2">Elm (18.2M BTU/cord)</option>
            <option value="17.7">Douglas Fir (17.7M BTU/cord)</option>
            <option value="16.2">White Pine (16.2M BTU/cord)</option>
            <option value="15.5">Spruce (15.5M BTU/cord)</option>
            <option value="14.3">Cottonwood (14.3M BTU/cord)</option>
          </select>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div>
            <label class="block text-xs font-medium text-text mb-1">Number of Cords</label>
            <input type="number" id="fb-cords" class="fb-in w-full px-4 py-3 border border-border rounded-xl text-2xl font-bold" value="3" min="0.25" max="50" step="0.25">
          </div>
          <div>
            <label class="block text-xs font-medium text-text mb-1">Price per Cord ($)</label>
            <input type="number" id="fb-price" class="fb-in w-full px-4 py-3 border border-border rounded-xl text-2xl font-bold" value="275" min="0" step="5">
          </div>
        </div>
        <div>
          <label class="block text-xs font-medium text-text mb-1">Compare With Alternative</label>
          <select id="fb-alt" class="fb-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold">
            <option value="91.5|31.50">Natural Gas ($31.50/MCF, 91.5k BTU/therm)</option>
            <option value="138.5|3.10">Propane ($3.10/gal, 91.5k BTU/gal)</option>
            <option value="138.5|5.50">Heating Oil ($5.50/gal, 138.5k BTU/gal)</option>
            <option value="3.412|0.14">Electricity ($0.14/kWh, 3,412 BTU/kWh)</option>
            <option value="16.4|8.00">Wood Pellets ($8.00/bag, 16.4M BTU/ton)</option>
          </select>
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Total Heating Value</div>
          <div class="text-5xl font-extrabold font-mono" id="fb-total">--</div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">BTU Per Cord</div>
            <div class="text-xl font-bold font-mono" id="fb-btu">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Cost/Million BTU</div>
            <div class="text-xl font-bold font-mono" id="fb-costmm">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Total Cost</div>
            <div class="text-xl font-bold font-mono" id="fb-cost">--</div>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Alt $/MMBTU</div>
            <div class="text-xl font-bold font-mono" id="fb-altcost">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Savings vs Alt</div>
            <div class="text-xl font-bold font-mono" id="fb-savings">--</div>
          </div>
        </div>
      </div>
      <ShareButton calculatorId="firewood-btu" />
      <FeedbackWidget />
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcFB() {
      const btuPerCord = parseFloat((document.getElementById('fb-species') as HTMLSelectElement).value) * 1e6;
      const cords = parseFloat((document.getElementById('fb-cords') as HTMLInputElement).value) || 3;
      const price = parseFloat((document.getElementById('fb-price') as HTMLInputElement).value) || 0;
      const altVal = (document.getElementById('fb-alt') as HTMLSelectElement).value.split('|');
      const altBtuPer = parseFloat(altVal[0]) * 1000;
      const altPrice = parseFloat(altVal[1]);
      const totalBtu = btuPerCord * cords;
      const totalCost = price * cords;
      const costPerMMBTU = totalCost > 0 ? (price / (btuPerCord / 1e6)) : 0;
      const altCostMMBTU = altBtuPer > 0 ? (altPrice / (altBtuPer / 1e6)) : 0;
      const altTotalCost = totalBtu > 0 ? (totalBtu / 1e6) * altCostMMBTU : 0;
      const savings = altTotalCost - totalCost;
      document.getElementById('fb-total')!.textContent = (totalBtu / 1e6).toFixed(1) + 'M BTU';
      document.getElementById('fb-btu')!.textContent = (btuPerCord / 1e6).toFixed(1) + 'M';
      document.getElementById('fb-costmm')!.textContent = '$' + costPerMMBTU.toFixed(2);
      document.getElementById('fb-cost')!.textContent = '$' + totalCost.toFixed(0);
      document.getElementById('fb-altcost')!.textContent = '$' + altCostMMBTU.toFixed(2);
      document.getElementById('fb-savings')!.textContent = (savings >= 0 ? '+$' : '-$') + Math.abs(savings).toFixed(0);
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.fb-in').forEach(el => { el.addEventListener('input', calcFB); el.addEventListener('change', calcFB); });
      calcFB();
    }, 50);
  </script>
</CalculatorLayout>
