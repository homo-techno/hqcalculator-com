---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Hair Developer Calculator - Volume Selection for Lift Levels";
const description = "Select the right developer volume (10, 20, 30, 40 vol) based on your current level, target level, and desired lift for hair coloring.";
const relatedCalcs = [
  { name: "Hair Color Mixing Calculator", url: "/hair-color-mixing-calculator", description: "Hair dye mixing ratios." },
  { name: "Hair Lightening Calculator", url: "/hair-lightening-calculator", description: "Bleach mixing ratio." },
  { name: "Hair Growth Calculator", url: "/hair-growth-calculator", description: "Growth rate projection." },
  { name: "Hair Porosity Calculator", url: "/hair-porosity-calculator", description: "Porosity assessment." },
  { name: "Hair Extension Calculator", url: "/hair-extension-calculator", description: "Extension bundle count." },
  { name: "Salon Revenue Calculator", url: "/salon-revenue-calculator", description: "Salon revenue projection." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Hair Developer Calculator" keywords="hair developer, developer volume, 10 volume, 20 volume, 30 volume, 40 volume, lift levels, peroxide" breadcrumbs={[{ name: "Hair Developer", url: "/hair-developer-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Hair Developer Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Determine the right developer volume for your desired lift level and hair service.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div class="grid grid-cols-2 gap-3">
          <div>
            <label class="block text-xs font-medium text-text mb-1">Current Hair Level</label>
            <select id="hdv-current" class="hdv-in w-full px-4 py-3 border border-border rounded-xl text-lg">
              <option value="1">1 - Black</option>
              <option value="2">2 - Darkest Brown</option>
              <option value="3">3 - Dark Brown</option>
              <option value="4" selected>4 - Medium Brown</option>
              <option value="5">5 - Light Brown</option>
              <option value="6">6 - Dark Blonde</option>
              <option value="7">7 - Medium Blonde</option>
              <option value="8">8 - Light Blonde</option>
              <option value="9">9 - Very Light Blonde</option>
              <option value="10">10 - Lightest Blonde</option>
            </select>
          </div>
          <div>
            <label class="block text-xs font-medium text-text mb-1">Target Hair Level</label>
            <select id="hdv-target" class="hdv-in w-full px-4 py-3 border border-border rounded-xl text-lg">
              <option value="1">1 - Black</option>
              <option value="2">2 - Darkest Brown</option>
              <option value="3">3 - Dark Brown</option>
              <option value="4">4 - Medium Brown</option>
              <option value="5">5 - Light Brown</option>
              <option value="6" selected>6 - Dark Blonde</option>
              <option value="7">7 - Medium Blonde</option>
              <option value="8">8 - Light Blonde</option>
              <option value="9">9 - Very Light Blonde</option>
              <option value="10">10 - Lightest Blonde</option>
            </select>
          </div>
        </div>
        <div>
          <label class="block text-xs font-medium text-text mb-1">Service Type</label>
          <select id="hdv-service" class="hdv-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="permanent" selected>Permanent Color</option>
            <option value="demi">Demi-Permanent</option>
            <option value="toner">Toner / Gloss</option>
            <option value="bleach">Bleach / Lightener</option>
            <option value="gray">Gray Coverage</option>
          </select>
        </div>
        <div>
          <label class="block text-xs font-medium text-text mb-1">Hair Condition</label>
          <select id="hdv-condition" class="hdv-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="virgin">Virgin (never colored)</option>
            <option value="healthy" selected>Healthy (minimal processing)</option>
            <option value="processed">Previously colored</option>
            <option value="damaged">Damaged / Over-processed</option>
          </select>
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Recommended Developer</div>
          <div class="text-5xl font-extrabold font-mono" id="hdv-vol">--</div>
          <div class="text-sm text-blue-200 mt-1" id="hdv-peroxide">-- peroxide</div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Levels of Lift</div><div class="text-xl font-bold" id="hdv-lift">0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Processing Time</div><div class="text-xl font-bold" id="hdv-time">-- min</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Damage Risk</div><div class="text-xl font-bold" id="hdv-damage">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Mixing Ratio</div><div class="text-xl font-bold" id="hdv-ratio">--</div></div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl">
          <h3 class="font-semibold text-sm text-text mb-3">Developer Volume Guide</h3>
          <div class="text-sm space-y-1">
            <div class="flex justify-between"><span>10 Vol (3%)</span><span class="font-bold">Deposit only, 0-1 level lift</span></div>
            <div class="flex justify-between"><span>20 Vol (6%)</span><span class="font-bold">Standard, 1-2 levels lift</span></div>
            <div class="flex justify-between"><span>30 Vol (9%)</span><span class="font-bold">Moderate, 2-3 levels lift</span></div>
            <div class="flex justify-between"><span>40 Vol (12%)</span><span class="font-bold">Maximum, 3-4 levels lift</span></div>
          </div>
        </div>
      </div>
      <ShareButton calculatorId="hair-developer" />
      <FeedbackWidget />
    </div>
    <article class="mt-12 max-w-4xl prose prose-slate mx-auto">
      <h2 class="text-2xl font-bold text-text">Choosing the Right Developer Volume</h2>
      <p>Developer (hydrogen peroxide) activates hair color and controls the level of lift. 10 volume (3%) deposits color without lift - ideal for toning or going darker. 20 volume (6%) is the standard for most permanent color, providing 1-2 levels of lift. 30 volume (9%) offers 2-3 levels and is used for high-lift applications. 40 volume (12%) provides maximum lift of 3-4 levels but carries the highest damage risk. Always consider hair condition and porosity when selecting developer strength.</p>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcHDV() {
      const current = parseInt((document.getElementById('hdv-current') as HTMLSelectElement).value);
      const target = parseInt((document.getElementById('hdv-target') as HTMLSelectElement).value);
      const service = (document.getElementById('hdv-service') as HTMLSelectElement).value;
      const condition = (document.getElementById('hdv-condition') as HTMLSelectElement).value;

      const lift = target - current;
      let recVol = '20 Volume';
      let peroxide = '6% peroxide';
      let time = '35';
      let damage = 'Low';
      let ratio = '1:1';

      if (service === 'demi') {
        recVol = '10 Volume';
        peroxide = '3% peroxide';
        time = '20';
        damage = 'Very Low';
        ratio = '1:1';
      } else if (service === 'toner') {
        recVol = '10 Volume';
        peroxide = '3% peroxide';
        time = '15-20';
        damage = 'Minimal';
        ratio = '1:2';
      } else if (service === 'bleach') {
        if (lift <= 2) { recVol = '20 Volume'; peroxide = '6% peroxide'; time = '30-40'; damage = 'Moderate'; }
        else if (lift <= 4) { recVol = '30 Volume'; peroxide = '9% peroxide'; time = '35-45'; damage = 'High'; }
        else { recVol = '40 Volume'; peroxide = '12% peroxide'; time = '40-50'; damage = 'Very High'; }
        ratio = '1:2';
      } else if (service === 'gray') {
        recVol = '20 Volume';
        peroxide = '6% peroxide';
        time = '35-45';
        damage = 'Low';
        ratio = '1:1';
      } else {
        if (lift <= 0) { recVol = '10 Volume'; peroxide = '3% peroxide'; time = '30-35'; damage = 'Very Low'; }
        else if (lift <= 2) { recVol = '20 Volume'; peroxide = '6% peroxide'; time = '35'; damage = 'Low'; }
        else if (lift <= 3) { recVol = '30 Volume'; peroxide = '9% peroxide'; time = '35-40'; damage = 'Moderate'; }
        else { recVol = '40 Volume'; peroxide = '12% peroxide'; time = '40-45'; damage = 'High'; }
        ratio = '1:1';
      }

      if (condition === 'damaged') {
        if (recVol === '40 Volume') { recVol = '30 Volume'; peroxide = '9% peroxide'; }
        else if (recVol === '30 Volume') { recVol = '20 Volume'; peroxide = '6% peroxide'; }
        damage = damage === 'Very Low' ? 'Low' : damage === 'Low' ? 'Moderate' : damage === 'Moderate' ? 'High' : 'Very High';
      }

      document.getElementById('hdv-vol')!.textContent = recVol;
      document.getElementById('hdv-peroxide')!.textContent = peroxide;
      document.getElementById('hdv-lift')!.textContent = Math.max(0, lift).toString();
      document.getElementById('hdv-time')!.textContent = time + ' min';
      document.getElementById('hdv-damage')!.textContent = damage;
      document.getElementById('hdv-ratio')!.textContent = ratio;
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.hdv-in').forEach(el => { el.addEventListener('input', calcHDV); el.addEventListener('change', calcHDV); });
      calcHDV();
    }, 50);
  </script>
</CalculatorLayout>
