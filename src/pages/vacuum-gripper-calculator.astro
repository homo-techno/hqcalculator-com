---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Vacuum Gripper Calculator - Suction Cup Sizing & Pump Selection";
const description = "Calculate vacuum gripper suction cup sizing, holding force, and vacuum pump flow requirements. Design vacuum end-effectors for pick-and-place robots.";
const relatedCalcs = [
  { name: "Pneumatic Cylinder Calculator", url: "/pneumatic-cylinder-calculator", description: "Calculate pneumatic cylinder force and air consumption." },
  { name: "Robot Arm Calculator", url: "/robot-arm-calculator", description: "Calculate robot arm reach and payload." },
  { name: "Cobot Payload Calculator", url: "/cobot-payload-calculator", description: "Calculate collaborative robot payload capacity." },
  { name: "Robot Speed Calculator", url: "/robot-speed-calculator", description: "Optimize robot pick rate and cycle time." },
  { name: "Conveyor Speed Calculator", url: "/conveyor-speed-calculator", description: "Match conveyor speed to pick rate." },
  { name: "Industrial Robot ROI Calculator", url: "/industrial-robot-roi-calculator", description: "Calculate robot investment payback period." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Vacuum Gripper Calculator" keywords="vacuum gripper calculator, suction cup sizing, vacuum force, pick and place, vacuum pump selection, end effector, gripper design" breadcrumbs={[{ name: "Vacuum Gripper Calculator", url: "/vacuum-gripper-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Vacuum Gripper Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Size vacuum suction cups and calculate holding force for pick-and-place applications. Determine vacuum level, cup count, and pump flow rate needed.</p>

    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-6">
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Part Weight (kg)</label>
          <input type="number" id="vg2-weight" class="vg2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="2" min="0.01" step="0.1">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Number of Suction Cups</label>
          <input type="number" id="vg2-cups" class="vg2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="4" min="1" step="1">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Suction Cup Diameter (mm)</label>
          <input type="number" id="vg2-cup-dia" class="vg2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="30" min="5" step="5">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Vacuum Level (kPa)</label>
          <input type="number" id="vg2-vacuum" class="vg2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="60" min="10" max="100" step="5">
          <p class="text-xs text-text-secondary mt-1">Typical: 40-70 kPa for most applications</p>
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Lifting Orientation</label>
          <select id="vg2-orient" class="vg2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="vertical">Vertical lift (gravity opposing)</option>
            <option value="horizontal">Horizontal (shear force)</option>
            <option value="inverted">Inverted (gravity assisting)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Max Acceleration (m/sÂ²)</label>
          <input type="number" id="vg2-accel" class="vg2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="10" min="1" step="1">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Safety Factor</label>
          <input type="number" id="vg2-safety" class="vg2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="2" min="1" step="0.5">
        </div>

        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm font-medium opacity-80 mb-1">Total Holding Force</div>
          <div id="vg2-result-force" class="text-3xl sm:text-4xl font-extrabold">--</div>
          <div class="text-sm opacity-80 mt-1">N (all cups combined)</div>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-secondary mb-1">Force Per Cup</div>
            <div id="vg2-force-cup" class="text-lg font-bold text-text">--</div>
            <div class="text-xs text-text-secondary">N</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-secondary mb-1">Required Force</div>
            <div id="vg2-req-force" class="text-lg font-bold text-text">--</div>
            <div class="text-xs text-text-secondary">N (with safety)</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-secondary mb-1">Grip Status</div>
            <div id="vg2-status" class="text-lg font-bold text-text">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-secondary mb-1">Est. Pump Flow</div>
            <div id="vg2-pump-flow" class="text-lg font-bold text-text">--</div>
            <div class="text-xs text-text-secondary">L/min</div>
          </div>
        </div>

        <ShareButton />
        <FeedbackWidget />
      </div>
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>

  <script>
    function calcVG2() {
      const weight = parseFloat((document.getElementById('vg2-weight') as HTMLInputElement).value) || 2;
      const cups = parseInt((document.getElementById('vg2-cups') as HTMLInputElement).value) || 4;
      const cupDia = parseFloat((document.getElementById('vg2-cup-dia') as HTMLInputElement).value) || 30;
      const vacuum = parseFloat((document.getElementById('vg2-vacuum') as HTMLInputElement).value) || 60;
      const orient = (document.getElementById('vg2-orient') as HTMLSelectElement).value;
      const accel = parseFloat((document.getElementById('vg2-accel') as HTMLInputElement).value) || 10;
      const safety = parseFloat((document.getElementById('vg2-safety') as HTMLInputElement).value) || 2;

      const g = 9.81;
      const cupAreaM2 = Math.PI * Math.pow(cupDia / 2000, 2);
      const vacuumPa = vacuum * 1000;
      const forcePerCup = vacuumPa * cupAreaM2;
      const totalForce = forcePerCup * cups;

      let requiredForce: number;
      if (orient === 'vertical') {
        requiredForce = weight * (g + accel) * safety;
      } else if (orient === 'horizontal') {
        requiredForce = weight * Math.sqrt(g * g + accel * accel) * safety;
      } else {
        requiredForce = weight * Math.max(accel - g, 0.1) * safety;
      }

      const status = totalForce >= requiredForce ? 'OK - Sufficient' : 'INSUFFICIENT';
      const cupVolL = cupAreaM2 * 0.005 * 1000;
      const pumpFlow = cups * cupVolL * 60 * 2;

      document.getElementById('vg2-result-force')!.textContent = totalForce.toFixed(1);
      document.getElementById('vg2-force-cup')!.textContent = forcePerCup.toFixed(2);
      document.getElementById('vg2-req-force')!.textContent = requiredForce.toFixed(1);
      document.getElementById('vg2-status')!.textContent = status;
      document.getElementById('vg2-pump-flow')!.textContent = pumpFlow.toFixed(2);
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.vg2-in').forEach(el => { el.addEventListener('input', calcVG2); el.addEventListener('change', calcVG2); });
      calcVG2();
    }, 50);
  </script>
</CalculatorLayout>
