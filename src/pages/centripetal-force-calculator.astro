---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Centripetal Force Calculator";
const description = "Calculate centripetal force, acceleration, and velocity for circular motion using F = mv²/r.";
const relatedCalcs = [
  { name: "Force Calculator", url: "/force-calculator", description: "Force." },
  { name: "Acceleration", url: "/acceleration-calculator", description: "Acceleration." },
  { name: "Speed Calculator", url: "/speed-calculator", description: "Speed." },
  { name: "Pendulum", url: "/pendulum-calculator", description: "Pendulum." },
  { name: "Kinetic Energy", url: "/kinetic-energy-calculator", description: "Kinetic energy." },
  { name: "Momentum", url: "/momentum-calculator", description: "Momentum." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Centripetal Force Calculator" keywords="centripetal force, circular motion, centripetal acceleration, angular velocity, F=mv²/r" breadcrumbs={[{ name: "Centripetal Force", url: "/centripetal-force-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Centripetal Force Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Calculate centripetal force and acceleration for circular motion.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div class="grid grid-cols-3 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Mass (kg)</label><input type="number" id="cf-m" class="cf-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="1000" min="0" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Velocity (m/s)</label><input type="number" id="cf-v" class="cf-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="20" min="0" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Radius (m)</label><input type="number" id="cf-r" class="cf-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="50" min="0" step="1"></div>
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Centripetal Force</div>
          <div class="text-5xl font-extrabold font-mono" id="cf-result">0 N</div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Acceleration</div><div class="text-xl font-bold font-mono" id="cf-acc">0 m/s²</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">G-Force</div><div class="text-xl font-bold font-mono" id="cf-g">0 g</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Angular Velocity</div><div class="text-xl font-bold font-mono" id="cf-omega">0 rad/s</div></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Period</div><div class="text-xl font-bold font-mono" id="cf-period">0 s</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">RPM</div><div class="text-xl font-bold font-mono" id="cf-rpm">0</div></div>
        </div>
      </div>
      <ShareButton calculatorId="centripetal-force" />
      <FeedbackWidget />
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcCF() {
      const m = parseFloat((document.getElementById('cf-m') as HTMLInputElement).value) || 0;
      const v = parseFloat((document.getElementById('cf-v') as HTMLInputElement).value) || 0;
      const r = parseFloat((document.getElementById('cf-r') as HTMLInputElement).value) || 1;
      const acc = r > 0 ? v * v / r : 0;
      const force = m * acc;
      const gForce = acc / 9.81;
      const omega = r > 0 ? v / r : 0;
      const period = omega > 0 ? (2 * Math.PI) / omega : 0;
      const rpm = period > 0 ? 60 / period : 0;
      let display: string;
      if (force >= 1e6) display = (force/1e6).toFixed(2) + ' MN';
      else if (force >= 1e3) display = (force/1e3).toFixed(2) + ' kN';
      else display = force.toFixed(2) + ' N';
      document.getElementById('cf-result')!.textContent = display;
      document.getElementById('cf-acc')!.textContent = acc.toFixed(2) + ' m/s²';
      document.getElementById('cf-g')!.textContent = gForce.toFixed(2) + ' g';
      document.getElementById('cf-omega')!.textContent = omega.toFixed(4) + ' rad/s';
      document.getElementById('cf-period')!.textContent = period.toFixed(3) + ' s';
      document.getElementById('cf-rpm')!.textContent = rpm.toFixed(1);
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.cf-in').forEach(el => { el.addEventListener('input', calcCF); el.addEventListener('change', calcCF); });
      calcCF();
    }, 50);
  </script>
</CalculatorLayout>
