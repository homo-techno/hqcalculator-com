---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Font Size Calculator - Convert pt, px, em, rem & Line Height";
const description = "Convert between font size units: points (pt), pixels (px), em, rem. Calculate line height, x-height, and cap height for typography.";
const relatedCalcs = [
  { name: "Typography Scale Calculator", url: "/typography-scale-calculator", description: "Generate modular type scales." },
  { name: "Typesetting Calculator", url: "/typesetting-calculator", description: "Characters per page calculations." },
  { name: "Magazine Layout Calculator", url: "/magazine-layout-calculator", description: "Magazine page planning." },
  { name: "Print Resolution Calculator", url: "/print-resolution-calculator", description: "DPI/PPI calculations." },
  { name: "Poster Size Calculator", url: "/poster-size-calculator", description: "Poster sizing and DPI." },
  { name: "Bleed Margin Calculator", url: "/bleed-margin-calculator", description: "Print bleed calculations." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Font Size Calculator" keywords="font size converter, pt to px, em to rem, line height, x-height, typography units, font conversion" breadcrumbs={[{ name: "Font Size Calculator", url: "/font-size-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Font Size Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Convert between font size units (pt, px, em, rem) and calculate line height, x-height, and cap height for optimal typography.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Font Size Value</label><input type="number" id="fs2-value" class="fs2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="0" step="0.5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Input Unit</label>
            <select id="fs2-unit" class="fs2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
              <option value="pt">Points (pt)</option>
              <option value="px">Pixels (px)</option>
              <option value="em">Em</option>
              <option value="rem">Rem</option>
              <option value="mm">Millimeters (mm)</option>
              <option value="in">Inches (in)</option>
            </select>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Base Font Size (px)</label><input type="number" id="fs2-base" class="fs2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="1" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Screen DPI/PPI</label><input type="number" id="fs2-dpi" class="fs2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="1" step="1"></div>
        </div>
        <div><label class="block text-xs font-medium text-text mb-1">Line Height Multiplier</label><input type="number" id="fs2-lh" class="fs2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="0.5" step="0.05"></div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Converted Sizes</div>
          <div class="text-3xl font-extrabold font-mono" id="fs2-result">--</div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Points (pt)</div><div class="text-xl font-bold" id="fs2-pt">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Pixels (px)</div><div class="text-xl font-bold" id="fs2-px">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Em</div><div class="text-xl font-bold" id="fs2-em">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Rem</div><div class="text-xl font-bold" id="fs2-rem">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Millimeters</div><div class="text-xl font-bold" id="fs2-mm">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Inches</div><div class="text-xl font-bold" id="fs2-inch">--</div></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Line Height</div><div class="text-xl font-bold" id="fs2-lineheight">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">x-Height (approx)</div><div class="text-xl font-bold" id="fs2-xheight">--</div></div>
        </div>
      </div>
      <ShareButton calculatorId="font-size" />
      <FeedbackWidget />
    </div>
    <article class="mt-12 max-w-4xl prose prose-slate mx-auto">
      <h2 class="text-2xl font-bold text-text">Font Size Conversion Formulas</h2>
      <div class="bg-surface-alt rounded-xl p-4 my-4 font-mono text-sm space-y-1">
        <p>1 pt = 1/72 inch = 0.3528 mm</p>
        <p>1 px = 1/96 inch (at 96 DPI) = 0.75 pt</p>
        <p>1 em = base font size in px</p>
        <p>1 rem = root font size in px</p>
        <p>x-height is approximately 0.5x the font size</p>
      </div>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcFs2() {
      const value = parseFloat((document.getElementById('fs2-value') as HTMLInputElement).value) || 0;
      const unit = (document.getElementById('fs2-unit') as HTMLSelectElement).value;
      const base = parseFloat((document.getElementById('fs2-base') as HTMLInputElement).value) || 16;
      const dpi = parseFloat((document.getElementById('fs2-dpi') as HTMLInputElement).value) || 96;
      const lh = parseFloat((document.getElementById('fs2-lh') as HTMLInputElement).value) || 1.5;
      let px = 0;
      if (unit === 'px') px = value;
      else if (unit === 'pt') px = value * (dpi / 72);
      else if (unit === 'em') px = value * base;
      else if (unit === 'rem') px = value * base;
      else if (unit === 'mm') px = value * (dpi / 25.4);
      else if (unit === 'in') px = value * dpi;
      const pt = px * (72 / dpi);
      const em = base > 0 ? px / base : 0;
      const rem = base > 0 ? px / base : 0;
      const mm = px * (25.4 / dpi);
      const inch = px / dpi;
      const lineHeight = px * lh;
      const xHeight = pt * 0.5;
      document.getElementById('fs2-result')!.textContent = pt.toFixed(2) + 'pt = ' + px.toFixed(2) + 'px';
      document.getElementById('fs2-pt')!.textContent = pt.toFixed(2) + ' pt';
      document.getElementById('fs2-px')!.textContent = px.toFixed(2) + ' px';
      document.getElementById('fs2-em')!.textContent = em.toFixed(4) + ' em';
      document.getElementById('fs2-rem')!.textContent = rem.toFixed(4) + ' rem';
      document.getElementById('fs2-mm')!.textContent = mm.toFixed(2) + ' mm';
      document.getElementById('fs2-inch')!.textContent = inch.toFixed(4) + ' in';
      document.getElementById('fs2-lineheight')!.textContent = lineHeight.toFixed(1) + ' px';
      document.getElementById('fs2-xheight')!.textContent = xHeight.toFixed(1) + ' pt';
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      (document.getElementById('fs2-value') as HTMLInputElement).value = '16';
      (document.getElementById('fs2-base') as HTMLInputElement).value = '16';
      (document.getElementById('fs2-dpi') as HTMLInputElement).value = '96';
      (document.getElementById('fs2-lh') as HTMLInputElement).value = '1.5';
      document.querySelectorAll('.fs2-in').forEach(el => { el.addEventListener('input', calcFs2); el.addEventListener('change', calcFs2); });
      calcFs2();
    }, 50);
  </script>
</CalculatorLayout>
