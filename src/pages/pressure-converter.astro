---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Pressure Converter - Pa, atm, psi, bar, mmHg";
const description = "Convert between pressure units: Pascal, atmosphere, PSI, bar, torr, mmHg, and more.";
const relatedCalcs = [
  { name: "Force Calculator", url: "/force-calculator", description: "Force." },
  { name: "Temperature", url: "/temperature-converter", description: "Temperature." },
  { name: "Length Converter", url: "/length-converter", description: "Length." },
  { name: "Weight Converter", url: "/weight-converter", description: "Weight." },
  { name: "Density Calculator", url: "/density-calculator", description: "Density." },
  { name: "Scientific Calculator", url: "/scientific-calculator", description: "Scientific." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Pressure Converter" keywords="pressure converter, psi to bar, atm to psi, pascal converter, pressure units" breadcrumbs={[{ name: "Pressure Converter", url: "/pressure-converter" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Pressure Converter</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Convert between all common pressure units.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Value</label><input type="number" id="pu-val" class="w-full px-4 py-3 border border-border rounded-xl text-2xl font-bold" value="1" min="0" step="0.1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">From Unit</label><select id="pu-unit" class="w-full px-4 py-3 border border-border rounded-xl text-lg"><option value="101325">atm</option><option value="100000">bar</option><option value="1" selected>Pa</option><option value="1000">kPa</option><option value="1000000">MPa</option><option value="6894.757">psi</option><option value="133.322">mmHg (Torr)</option><option value="249.089">inH₂O</option><option value="3386.39">inHg</option></select></div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl">
          <div class="space-y-2 text-sm" id="pu-results"></div>
        </div>
      </div>
      <ShareButton calculatorId="pressure" />
      <FeedbackWidget />
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    const units = [
      { name: 'Pascal (Pa)', factor: 1 },
      { name: 'Kilopascal (kPa)', factor: 1000 },
      { name: 'Megapascal (MPa)', factor: 1000000 },
      { name: 'Bar', factor: 100000 },
      { name: 'Atmosphere (atm)', factor: 101325 },
      { name: 'PSI', factor: 6894.757 },
      { name: 'mmHg (Torr)', factor: 133.322 },
      { name: 'inHg', factor: 3386.39 },
      { name: 'inH₂O', factor: 249.089 },
    ];
    function calcPU() {
      const val = parseFloat((document.getElementById('pu-val') as HTMLInputElement).value) || 0;
      const fromFactor = parseFloat((document.getElementById('pu-unit') as HTMLSelectElement).value);
      const pa = val * fromFactor;
      document.getElementById('pu-results')!.innerHTML = units.map(u =>
        `<div class="flex justify-between"><span>${u.name}</span><span class="font-mono font-bold">${(pa / u.factor).toFixed(6)}</span></div>`
      ).join('');
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => { document.getElementById('pu-val')!.addEventListener('input', calcPU); document.getElementById('pu-unit')!.addEventListener('change', calcPU); calcPU(); }, 50);
  </script>
</CalculatorLayout>
