---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Drywall Calculator - Sheets, Mud & Tape Needed";
const description = "Calculate drywall sheets, joint compound, tape, and screws needed for your walls and ceilings.";
const relatedCalcs = [
  { name: "Paint Calculator", url: "/paint-calculator", description: "Paint." },
  { name: "Wallpaper Calculator", url: "/wallpaper-calculator", description: "Wallpaper." },
  { name: "Square Footage", url: "/square-footage-calculator", description: "Sq footage." },
  { name: "Flooring Calculator", url: "/flooring-calculator", description: "Flooring." },
  { name: "Tile Calculator", url: "/tile-calculator", description: "Tile." },
  { name: "Concrete Calculator", url: "/concrete-calculator", description: "Concrete." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Drywall Calculator" keywords="drywall calculator, sheetrock calculator, drywall sheets, joint compound, drywall estimation" breadcrumbs={[{ name: "Drywall", url: "/drywall-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Drywall Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Estimate drywall materials for your room or project.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div class="grid grid-cols-3 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Room Length (ft)</label><input type="number" id="dw-l" class="dw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="12" min="0" step="0.5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Room Width (ft)</label><input type="number" id="dw-w" class="dw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="12" min="0" step="0.5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Ceiling Height (ft)</label><input type="number" id="dw-h" class="dw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="8" min="0" step="0.5"></div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Doors</label><input type="number" id="dw-doors" class="dw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="1" min="0" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Windows</label><input type="number" id="dw-win" class="dw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="2" min="0" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Include Ceiling?</label><select id="dw-ceil" class="dw-in w-full px-4 py-3 border border-border rounded-xl text-lg"><option value="yes">Yes</option><option value="no">No</option></select></div>
        </div>
        <div><label class="block text-xs font-medium text-text mb-1">Sheet Size</label><select id="dw-size" class="dw-in w-full px-4 py-3 border border-border rounded-xl text-lg"><option value="32">4×8 ft (32 sq ft)</option><option value="48">4×12 ft (48 sq ft)</option></select></div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Drywall Sheets Needed</div>
          <div class="text-5xl font-extrabold font-mono" id="dw-sheets">0</div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Total Area</div><div class="text-xl font-bold" id="dw-area">0 sq ft</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Joint Compound</div><div class="text-xl font-bold" id="dw-mud">0 gal</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Tape (ft)</div><div class="text-xl font-bold" id="dw-tape">0</div></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Screws (approx)</div><div class="text-xl font-bold" id="dw-screws">0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Corner Bead (ft)</div><div class="text-xl font-bold" id="dw-corner">0</div></div>
        </div>
      </div>
      <ShareButton calculatorId="drywall" />
      <FeedbackWidget />
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcDW() {
      const l = parseFloat((document.getElementById('dw-l') as HTMLInputElement).value) || 0;
      const w = parseFloat((document.getElementById('dw-w') as HTMLInputElement).value) || 0;
      const h = parseFloat((document.getElementById('dw-h') as HTMLInputElement).value) || 0;
      const doors = parseInt((document.getElementById('dw-doors') as HTMLInputElement).value) || 0;
      const windows = parseInt((document.getElementById('dw-win') as HTMLInputElement).value) || 0;
      const inclCeil = (document.getElementById('dw-ceil') as HTMLSelectElement).value === 'yes';
      const sheetSize = parseFloat((document.getElementById('dw-size') as HTMLSelectElement).value);
      const wallArea = 2 * (l + w) * h;
      const doorArea = doors * 21;
      const winArea = windows * 15;
      const ceilArea = inclCeil ? l * w : 0;
      const totalArea = wallArea - doorArea - winArea + ceilArea;
      const sheets = Math.ceil(totalArea / sheetSize * 1.1);
      const mud = totalArea / 100;
      const tape = totalArea / 5;
      const screws = Math.ceil(totalArea * 1.5);
      const corners = inclCeil ? 4 * h + 2 * (l + w) : 4 * h;
      document.getElementById('dw-sheets')!.textContent = String(sheets);
      document.getElementById('dw-area')!.textContent = Math.round(totalArea) + ' sq ft';
      document.getElementById('dw-mud')!.textContent = mud.toFixed(1) + ' gal';
      document.getElementById('dw-tape')!.textContent = Math.round(tape).toLocaleString();
      document.getElementById('dw-screws')!.textContent = screws.toLocaleString();
      document.getElementById('dw-corner')!.textContent = Math.round(corners).toLocaleString();
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => { document.querySelectorAll('.dw-in').forEach(el => { el.addEventListener('input', calcDW); el.addEventListener('change', calcDW); }); calcDW(); }, 50);
  </script>
</CalculatorLayout>
