---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Beauty Budget Calculator - Monthly & Annual Spending Breakdown";
const description = "Calculate your monthly and annual beauty spending by category including skincare, haircare, makeup, nails, and professional services.";
const relatedCalcs = [
  { name: "Nail Salon Pricing Calculator", url: "/nail-salon-pricing-calculator", description: "Nail service pricing." },
  { name: "Salon Revenue Calculator", url: "/salon-revenue-calculator", description: "Salon revenue projection." },
  { name: "Cosmetic Expiration Calculator", url: "/cosmetic-expiration-calculator", description: "Product shelf life tracker." },
  { name: "Skincare Routine Calculator", url: "/skincare-routine-calculator", description: "Skincare product layering." },
  { name: "Eyelash Extension Calculator", url: "/eyelash-extension-calculator", description: "Lash extension costs." },
  { name: "Hair Color Mixing Calculator", url: "/hair-color-mixing-calculator", description: "Hair dye mixing ratios." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Beauty Budget Calculator" keywords="beauty budget, beauty spending, makeup budget, skincare cost, beauty expenses, annual beauty cost" breadcrumbs={[{ name: "Beauty Budget", url: "/beauty-budget-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Beauty Budget Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Track and plan your beauty spending across all categories.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <p class="text-xs text-text-muted">Enter your estimated monthly spending for each category.</p>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Skincare Products ($/mo)</label><input type="number" id="bbu-skincare" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="50" min="0" max="2000" step="5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Makeup Products ($/mo)</label><input type="number" id="bbu-makeup" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="30" min="0" max="2000" step="5"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Haircare Products ($/mo)</label><input type="number" id="bbu-hairprod" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="25" min="0" max="1000" step="5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Hair Salon Services ($/mo)</label><input type="number" id="bbu-hairsalon" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="60" min="0" max="2000" step="5"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Nail Services ($/mo)</label><input type="number" id="bbu-nails" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="40" min="0" max="1000" step="5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Lash / Brow Services ($/mo)</label><input type="number" id="bbu-lash" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0" min="0" max="1000" step="5"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Waxing / Hair Removal ($/mo)</label><input type="number" id="bbu-waxing" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0" min="0" max="1000" step="5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Facials / Spa ($/mo)</label><input type="number" id="bbu-spa" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0" min="0" max="2000" step="5"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Fragrance ($/mo)</label><input type="number" id="bbu-fragrance" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="15" min="0" max="500" step="5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Tools & Accessories ($/mo)</label><input type="number" id="bbu-tools" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="10" min="0" max="500" step="5"></div>
        </div>
        <div>
          <label class="block text-xs font-medium text-text mb-1">Monthly Income ($)</label>
          <input type="number" id="bbu-income" class="bbu-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="4000" min="0" max="100000" step="100">
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Monthly Beauty Spending</div>
          <div class="text-5xl font-extrabold font-mono" id="bbu-monthly">$0</div>
          <div class="text-sm text-blue-200 mt-1" id="bbu-pct">0% of income</div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Annual Total</div><div class="text-xl font-bold" id="bbu-annual">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Daily Average</div><div class="text-xl font-bold" id="bbu-daily">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Products vs Services</div><div class="text-xl font-bold" id="bbu-split">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Top Category</div><div class="text-xl font-bold" id="bbu-top">--</div></div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl">
          <h3 class="font-semibold text-sm text-text mb-3">Spending Breakdown</h3>
          <div class="text-sm space-y-1" id="bbu-breakdown"></div>
        </div>
      </div>
      <ShareButton calculatorId="beauty-budget" />
      <FeedbackWidget />
    </div>
    <article class="mt-12 max-w-4xl prose prose-slate mx-auto">
      <h2 class="text-2xl font-bold text-text">Beauty Spending Guide</h2>
      <p>The average American woman spends approximately $200-300 per month on beauty products and services, totaling $2,400-$3,600 annually. The biggest categories are typically hair care, skincare, and makeup. To optimize your beauty budget, focus on quality staples over trendy products, look for sales and loyalty programs, and consider multi-use products. Professional services like hair coloring and lash extensions represent recurring costs that add up significantly over a year.</p>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcBBU() {
      const categories: {id:string, name:string, isService:boolean}[] = [
        {id:'bbu-skincare', name:'Skincare Products', isService:false},
        {id:'bbu-makeup', name:'Makeup Products', isService:false},
        {id:'bbu-hairprod', name:'Haircare Products', isService:false},
        {id:'bbu-hairsalon', name:'Hair Salon Services', isService:true},
        {id:'bbu-nails', name:'Nail Services', isService:true},
        {id:'bbu-lash', name:'Lash / Brow Services', isService:true},
        {id:'bbu-waxing', name:'Waxing / Hair Removal', isService:true},
        {id:'bbu-spa', name:'Facials / Spa', isService:true},
        {id:'bbu-fragrance', name:'Fragrance', isService:false},
        {id:'bbu-tools', name:'Tools & Accessories', isService:false},
      ];

      let total = 0;
      let productTotal = 0;
      let serviceTotal = 0;
      let topCat = '';
      let topAmount = 0;
      const breakdown: string[] = [];

      categories.forEach(c => {
        const val = parseFloat((document.getElementById(c.id) as HTMLInputElement).value) || 0;
        total += val;
        if (c.isService) serviceTotal += val;
        else productTotal += val;
        if (val > topAmount) { topAmount = val; topCat = c.name; }
        if (val > 0) {
          const pct = total > 0 ? ((val / (total || 1)) * 100) : 0;
          breakdown.push('<div class="flex justify-between"><span>' + c.name + '</span><span class="font-bold">$' + val.toFixed(0) + '/mo</span></div>');
        }
      });

      const income = parseFloat((document.getElementById('bbu-income') as HTMLInputElement).value) || 1;
      const pct = (total / income) * 100;
      const annual = total * 12;
      const daily = total / 30;

      const splitText = '$' + productTotal.toFixed(0) + ' / $' + serviceTotal.toFixed(0);

      document.getElementById('bbu-monthly')!.textContent = '$' + total.toFixed(0);
      document.getElementById('bbu-pct')!.textContent = pct.toFixed(1) + '% of income';
      document.getElementById('bbu-annual')!.textContent = '$' + annual.toFixed(0);
      document.getElementById('bbu-daily')!.textContent = '$' + daily.toFixed(2);
      document.getElementById('bbu-split')!.textContent = splitText;
      document.getElementById('bbu-top')!.textContent = topCat || '--';
      document.getElementById('bbu-breakdown')!.innerHTML = breakdown.join('');
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.bbu-in').forEach(el => { el.addEventListener('input', calcBBU); el.addEventListener('change', calcBBU); });
      calcBBU();
    }, 50);
  </script>
</CalculatorLayout>
