---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Commute Cost Calculator - Daily, Monthly & Annual";
const description = "Calculate the true cost of your commute including gas, tolls, parking, maintenance, and the dollar value of your commute time.";
const relatedCalcs = [
  { name: "Remote Work Savings", url: "/remote-work-savings-calculator", description: "Remote savings." },
  { name: "Gas Mileage", url: "/gas-mileage-calculator", description: "Fuel economy." },
  { name: "Carbon Footprint", url: "/carbon-footprint-calculator", description: "Carbon." },
  { name: "Salary Calculator", url: "/salary-calculator", description: "Salary." },
  { name: "Budget Calculator", url: "/budget-calculator", description: "Budgeting." },
  { name: "Meeting Cost", url: "/meeting-cost-calculator", description: "Meeting costs." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Commute Cost Calculator" keywords="commute cost, commute calculator, driving cost, commute expense, commute time, commuting costs" breadcrumbs={[{ name: "Commute Cost", url: "/commute-cost-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Commute Cost Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Find out the true cost of your daily commute in dollars and time.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Round-Trip Distance (miles)</label><input type="number" id="cm3-dist" class="cm3-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="30" min="1" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Vehicle MPG</label><input type="number" id="cm3-mpg" class="cm3-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="28" min="5" step="1"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Gas Price ($/gal)</label><input type="number" id="cm3-gas" class="cm3-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="3.50" min="1" step="0.10"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Daily Tolls ($)</label><input type="number" id="cm3-tolls" class="cm3-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0" min="0" step="1"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Daily Parking ($)</label><input type="number" id="cm3-park" class="cm3-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0" min="0" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Commute Days/Week</label><input type="number" id="cm3-days" class="cm3-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="5" min="1" max="7" step="1"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Round-Trip Time (min)</label><input type="number" id="cm3-time" class="cm3-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="50" min="5" step="5"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Your Hourly Rate ($)</label><input type="number" id="cm3-rate" class="cm3-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="30" min="0" step="1"></div>
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Annual Commute Cost</div>
          <div class="text-5xl font-extrabold font-mono" id="cm3-annual">$0</div>
          <div class="text-sm text-blue-200 mt-1">including time value</div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Daily Cost</div><div class="text-xl font-bold" id="cm3-daily">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Monthly Cost</div><div class="text-xl font-bold" id="cm3-monthly">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Cash Cost/Year</div><div class="text-xl font-bold" id="cm3-cash">$0</div></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Time Value/Year</div><div class="text-xl font-bold" id="cm3-timeval">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Hours Commuting/Year</div><div class="text-xl font-bold" id="cm3-hrsy">0</div></div>
        </div>
      </div>
      <ShareButton calculatorId="commute-cost" />
      <FeedbackWidget />
    </div>
    <article class="mt-12 max-w-4xl prose prose-slate mx-auto">
      <h2 class="text-2xl font-bold text-text">The Real Cost of Commuting</h2>
      <p>The average American commutes 27 minutes each way, spending over $5,000/year on gas, maintenance, and parking alone. When you add the opportunity cost of your time, commuting can represent 10-15% of your effective income.</p>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcCommute() {
      const dist = parseFloat((document.getElementById('cm3-dist') as HTMLInputElement).value) || 0;
      const mpg = parseFloat((document.getElementById('cm3-mpg') as HTMLInputElement).value) || 28;
      const gas = parseFloat((document.getElementById('cm3-gas') as HTMLInputElement).value) || 3.50;
      const tolls = parseFloat((document.getElementById('cm3-tolls') as HTMLInputElement).value) || 0;
      const park = parseFloat((document.getElementById('cm3-park') as HTMLInputElement).value) || 0;
      const days = parseFloat((document.getElementById('cm3-days') as HTMLInputElement).value) || 5;
      const timeMin = parseFloat((document.getElementById('cm3-time') as HTMLInputElement).value) || 50;
      const hourlyRate = parseFloat((document.getElementById('cm3-rate') as HTMLInputElement).value) || 0;
      const fuelCost = (dist / mpg) * gas;
      // IRS maintenance estimate ~$0.10/mile beyond fuel
      const maintCost = dist * 0.10;
      const dailyCash = fuelCost + maintCost + tolls + park;
      const dailyTime = (timeMin / 60) * hourlyRate;
      const dailyTotal = dailyCash + dailyTime;
      const weeksPerYear = 50; // assume 2 weeks vacation
      const annualDays = days * weeksPerYear;
      const monthlyCash = Math.round(dailyCash * days * 4.33);
      const annualCash = Math.round(dailyCash * annualDays);
      const annualTimeVal = Math.round(dailyTime * annualDays);
      const annualTotal = annualCash + annualTimeVal;
      const annualHrs = Math.round((timeMin / 60) * annualDays);
      document.getElementById('cm3-annual')!.textContent = '$' + annualTotal.toLocaleString();
      document.getElementById('cm3-daily')!.textContent = '$' + dailyTotal.toFixed(2);
      document.getElementById('cm3-monthly')!.textContent = '$' + (monthlyCash + Math.round(dailyTime * days * 4.33)).toLocaleString();
      document.getElementById('cm3-cash')!.textContent = '$' + annualCash.toLocaleString();
      document.getElementById('cm3-timeval')!.textContent = '$' + annualTimeVal.toLocaleString();
      document.getElementById('cm3-hrsy')!.textContent = annualHrs.toLocaleString() + ' hrs';
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => { document.querySelectorAll('.cm3-in').forEach(el => { el.addEventListener('input', calcCommute); el.addEventListener('change', calcCommute); }); calcCommute(); }, 50);
  </script>
</CalculatorLayout>
