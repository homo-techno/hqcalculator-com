---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';

const title = "Hourly vs Salary Comparison - Which Pays More?";
const description = "Compare hourly and salaried positions including benefits value to determine which compensation package is better.";

const relatedCalcs = [
  { name: "Hourly to Salary", url: "/hourly-to-salary-calculator", description: "Salary conversion." },
  { name: "Salary Calculator", url: "/salary-calculator", description: "Salary breakdown." },
  { name: "Paycheck Calculator", url: "/paycheck-calculator", description: "Take-home pay." },
  { name: "Freelance Rate", url: "/freelance-rate-calculator", description: "Freelance pricing." },
  { name: "Side Hustle", url: "/side-hustle-calculator", description: "Side income." },
  { name: "Budget Calculator", url: "/budget-calculator", description: "Budget planning." },
];
---

<CalculatorLayout title={title} description={description} calculatorName="Hourly vs Salary Comparison" keywords="hourly vs salary, compensation comparison, benefits value, effective hourly rate, total compensation, salary equivalent" breadcrumbs={[{ name: "Hourly vs Salary", url: "/hourly-vs-salary-comparison" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Hourly vs Salary Comparison</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Compare total compensation between hourly and salaried positions, including benefits.</p>

    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="space-y-4">
          <h3 class="font-semibold text-text text-lg border-b pb-2">Hourly Position</h3>
          <div>
            <label class="block text-sm font-medium text-text mb-1">Hourly Rate</label>
            <div class="relative"><span class="absolute left-4 top-1/2 -translate-y-1/2 text-text-muted font-bold">$</span>
              <input type="number" id="hc-hourly" class="w-full pl-8 pr-4 py-3 border border-border rounded-xl text-2xl font-bold" value="30" min="0" step="0.5">
            </div>
          </div>
          <div>
            <label class="block text-xs font-medium text-text mb-1">Hours per Week</label>
            <input type="number" id="hc-hours" class="w-full px-4 py-3 border border-border rounded-xl text-lg" value="40" min="0" max="80" step="1">
          </div>
          <div>
            <label class="block text-xs font-medium text-text mb-1">Overtime Hours per Week (avg)</label>
            <input type="number" id="hc-overtime" class="w-full px-4 py-3 border border-border rounded-xl text-lg" value="5" min="0" max="40" step="1">
          </div>
          <div>
            <label class="block text-xs font-medium text-text mb-1">Hourly Benefits Value (annual)</label>
            <div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-text-muted">$</span>
              <input type="number" id="hc-hourly-benefits" class="w-full pl-7 pr-3 py-3 border border-border rounded-xl text-lg" value="3000" min="0" step="500">
            </div>
          </div>

          <h3 class="font-semibold text-text text-lg border-b pb-2 pt-2">Salaried Position</h3>
          <div>
            <label class="block text-xs font-medium text-text mb-1">Annual Salary</label>
            <div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-text-muted">$</span>
              <input type="number" id="hc-salary" class="w-full pl-7 pr-3 py-3 border border-border rounded-xl text-lg" value="65000" min="0" step="1000">
            </div>
          </div>
          <div>
            <label class="block text-xs font-medium text-text mb-1">Expected Hours per Week</label>
            <input type="number" id="hc-salary-hours" class="w-full px-4 py-3 border border-border rounded-xl text-lg" value="45" min="0" max="80" step="1">
          </div>
          <div>
            <label class="block text-xs font-medium text-text mb-1">Benefits Value (annual: health, 401k match, PTO, etc.)</label>
            <div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-text-muted">$</span>
              <input type="number" id="hc-salary-benefits" class="w-full pl-7 pr-3 py-3 border border-border rounded-xl text-lg" value="15000" min="0" step="1000">
            </div>
          </div>
        </div>

        <div class="space-y-3">
          <div class="p-6 bg-primary rounded-2xl text-white text-center">
            <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Better Option</div>
            <div class="text-4xl font-extrabold font-mono" id="hc-winner">--</div>
          </div>
          <div class="grid grid-cols-2 gap-3">
            <div class="p-4 bg-surface-alt rounded-xl text-center">
              <div class="text-xs text-text-muted uppercase">Hourly Total Comp</div>
              <div class="text-xl font-bold text-blue-600" id="hc-hourly-total">$0/yr</div>
            </div>
            <div class="p-4 bg-surface-alt rounded-xl text-center">
              <div class="text-xs text-text-muted uppercase">Salary Total Comp</div>
              <div class="text-xl font-bold text-purple-600" id="hc-salary-total">$0/yr</div>
            </div>
            <div class="p-4 bg-surface-alt rounded-xl text-center">
              <div class="text-xs text-text-muted uppercase">Hourly Eff. Rate</div>
              <div class="text-xl font-bold" id="hc-hourly-eff">$0/hr</div>
            </div>
            <div class="p-4 bg-surface-alt rounded-xl text-center">
              <div class="text-xs text-text-muted uppercase">Salary Eff. Rate</div>
              <div class="text-xl font-bold" id="hc-salary-eff">$0/hr</div>
            </div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Difference</div>
            <div class="text-xl font-bold" id="hc-difference">$0/yr</div>
          </div>
        </div>
      </div>
      <ShareButton calculatorId="hourly-vs-salary" />
      <FeedbackWidget />
    </div>

    <article class="mt-12 max-w-4xl prose prose-slate">
      <h2 class="text-2xl font-bold text-text">How to Compare Hourly vs Salary</h2>
      <p>A straight salary-to-hourly conversion misses key factors. Hourly workers often earn overtime pay (1.5x), while salaried workers may work extra hours for free. Benefits like health insurance, retirement matching, and PTO can add 20-40% to total compensation.</p>
      <h3 class="text-xl font-semibold text-text mt-8">Consider Non-Financial Factors</h3>
      <p>Salary positions often offer more stability, career advancement, and comprehensive benefits. Hourly positions may offer overtime opportunity, schedule flexibility, and clear work-life boundaries.</p>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>

  <script>
    const fmt = (n: number) => '$' + Math.round(n).toLocaleString();

    function calcHC() {
      const hourlyRate = parseFloat((document.getElementById('hc-hourly') as HTMLInputElement).value) || 0;
      const hoursPerWeek = parseFloat((document.getElementById('hc-hours') as HTMLInputElement).value) || 0;
      const overtimeHours = parseFloat((document.getElementById('hc-overtime') as HTMLInputElement).value) || 0;
      const hourlyBenefits = parseFloat((document.getElementById('hc-hourly-benefits') as HTMLInputElement).value) || 0;

      const salary = parseFloat((document.getElementById('hc-salary') as HTMLInputElement).value) || 0;
      const salaryHours = parseFloat((document.getElementById('hc-salary-hours') as HTMLInputElement).value) || 0;
      const salaryBenefits = parseFloat((document.getElementById('hc-salary-benefits') as HTMLInputElement).value) || 0;

      const weeksPerYear = 52;

      // Hourly: regular + overtime (1.5x)
      const hourlyAnnualBase = hourlyRate * hoursPerWeek * weeksPerYear;
      const hourlyOvertime = hourlyRate * 1.5 * overtimeHours * weeksPerYear;
      const hourlyTotalComp = hourlyAnnualBase + hourlyOvertime + hourlyBenefits;
      const hourlyTotalHours = (hoursPerWeek + overtimeHours) * weeksPerYear;
      const hourlyEffRate = hourlyTotalHours > 0 ? hourlyTotalComp / hourlyTotalHours : 0;

      // Salary: total comp / actual hours
      const salaryTotalComp = salary + salaryBenefits;
      const salaryTotalHours = salaryHours * weeksPerYear;
      const salaryEffRate = salaryTotalHours > 0 ? salaryTotalComp / salaryTotalHours : 0;

      const difference = hourlyTotalComp - salaryTotalComp;
      let winner = 'Tied';
      if (Math.abs(difference) < 500) winner = 'About Equal';
      else if (difference > 0) winner = 'Hourly Wins';
      else winner = 'Salary Wins';

      document.getElementById('hc-winner')!.textContent = winner;
      document.getElementById('hc-hourly-total')!.textContent = fmt(hourlyTotalComp) + '/yr';
      document.getElementById('hc-salary-total')!.textContent = fmt(salaryTotalComp) + '/yr';
      document.getElementById('hc-hourly-eff')!.textContent = '$' + hourlyEffRate.toFixed(2) + '/hr';
      document.getElementById('hc-salary-eff')!.textContent = '$' + salaryEffRate.toFixed(2) + '/hr';
      document.getElementById('hc-difference')!.textContent = fmt(Math.abs(difference)) + '/yr ' + (difference > 0 ? '(hourly higher)' : difference < 0 ? '(salary higher)' : '');

      document.dispatchEvent(new CustomEvent('calc-update'));
    }

    setTimeout(() => {
      ['hc-hourly', 'hc-hours', 'hc-overtime', 'hc-hourly-benefits', 'hc-salary', 'hc-salary-hours', 'hc-salary-benefits'].forEach(id => {
        const el = document.getElementById(id);
        if (el) { el.addEventListener('input', calcHC); el.addEventListener('change', calcHC); }
      });
      calcHC();
    }, 50);
  </script>
</CalculatorLayout>
