---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Arbitration Cost Calculator - AAA & JAMS Fee Comparison";
const description = "Compare arbitration vs litigation costs including AAA and JAMS filing fees, arbitrator compensation, and administrative costs for dispute resolution.";
const relatedCalcs = [
  { name: "Litigation Cost Calculator", url: "/litigation-cost-calculator", description: "Litigation expense estimate." },
  { name: "Legal Fee Calculator", url: "/legal-fee-calculator", description: "Attorney fee estimates." },
  { name: "Court Fee Calculator", url: "/court-fee-calculator", description: "Court filing fees." },
  { name: "Legal Billing Calculator", url: "/legal-billing-calculator", description: "Billable hour tracking." },
  { name: "Contract Value Calculator", url: "/contract-value-calculator", description: "Contract disputes." },
  { name: "Small Claims Calculator", url: "/small-claims-calculator", description: "Small claims option." },
];
---

<CalculatorLayout title={title} description={description} calculatorName="Arbitration Cost Calculator" keywords="arbitration cost calculator, AAA fees, JAMS fees, arbitration vs litigation, dispute resolution, ADR costs, mediation, arbitrator fees" breadcrumbs={[{ name: "Arbitration Cost", url: "/arbitration-cost-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Arbitration Cost Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Compare arbitration costs (AAA, JAMS) vs traditional litigation expenses.</p>

    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-text mb-1">Dispute Amount ($)</label>
          <input type="number" id="arb-amount" class="arb-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="500000" min="0" step="10000">
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Arbitration Provider</label>
          <select id="arb-provider" class="arb-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="aaa" selected>AAA (American Arbitration Association)</option>
            <option value="jams">JAMS</option>
            <option value="other">Other / Private Arbitrator</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Case Type</label>
          <select id="arb-case" class="arb-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="commercial" selected>Commercial</option>
            <option value="employment">Employment</option>
            <option value="consumer">Consumer</option>
            <option value="construction">Construction</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Number of Arbitrators</label>
          <select id="arb-panel" class="arb-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="1" selected>1 Arbitrator (standard)</option>
            <option value="3">3-Arbitrator Panel</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Estimated Hearing Days</label>
          <input type="number" id="arb-days" class="arb-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="3" min="1" max="30" step="1">
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Include Mediation First?</label>
          <select id="arb-mediation" class="arb-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="no" selected>No - Arbitration only</option>
            <option value="yes">Yes - Med-Arb (mediation then arbitration)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Attorney Hourly Rate ($)</label>
          <input type="number" id="arb-atty-rate" class="arb-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="400" min="100" max="1500" step="25">
        </div>
      </div>

      <div class="mt-6 space-y-3">
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Estimated Arbitration Cost</div>
          <div class="text-5xl font-extrabold font-mono" id="arb-total"></div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Filing + Admin Fees</div>
            <div class="text-xl font-bold text-secondary" id="arb-filing"></div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Arbitrator Fees</div>
            <div class="text-xl font-bold" id="arb-arbitrator"></div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Attorney Fees (est.)</div>
            <div class="text-xl font-bold text-orange-600" id="arb-attorney"></div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Litigation Equivalent</div>
            <div class="text-xl font-bold" id="arb-litigation"></div>
          </div>
        </div>
        <div class="p-4 bg-green-50 rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Estimated Savings vs Litigation</div>
          <div class="text-2xl font-bold text-green-600" id="arb-savings"></div>
        </div>
      </div>
      <ShareButton calculatorId="arbitration-cost" />
      <FeedbackWidget />
    </div>

    <article class="mt-12 max-w-4xl prose prose-slate">
      <h2 class="text-2xl font-bold text-text">Arbitration vs Litigation Costs</h2>
      <p>Arbitration typically costs 40-60% less than traditional litigation and resolves disputes in months rather than years. AAA filing fees range from $1,875 to $12,800+ based on claim amount. Arbitrator compensation runs $1,500-$3,000+ per day. While forum costs are higher than court fees, the savings in attorney time and faster resolution usually make arbitration more economical.</p>
      <h3 class="text-xl font-semibold text-text mt-8">Choosing Between AAA and JAMS</h3>
      <p>AAA offers structured fee schedules and extensive panel lists nationwide. JAMS is known for high-quality arbitrators (often retired judges) but at premium rates. For smaller disputes, AAA may be more cost-effective. For complex, high-value cases, JAMS arbitrators' expertise may justify the higher cost.</p>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>

  <script>
    const fmt = (n: number) => '$' + Math.round(n).toLocaleString();

    function calcARB() {
      const amount = parseFloat((document.getElementById('arb-amount') as HTMLInputElement).value) || 0;
      const provider = (document.getElementById('arb-provider') as HTMLSelectElement).value;
      const panel = parseInt((document.getElementById('arb-panel') as HTMLSelectElement).value) || 1;
      const days = parseInt((document.getElementById('arb-days') as HTMLInputElement).value) || 3;
      const mediation = (document.getElementById('arb-mediation') as HTMLSelectElement).value;
      const attyRate = parseFloat((document.getElementById('arb-atty-rate') as HTMLInputElement).value) || 400;

      // Filing/admin fees by provider and amount
      let filingFee = 0;
      if (provider === 'aaa') {
        if (amount <= 75000) filingFee = 1875;
        else if (amount <= 150000) filingFee = 2875;
        else if (amount <= 300000) filingFee = 4350;
        else if (amount <= 500000) filingFee = 5975;
        else if (amount <= 1000000) filingFee = 8200;
        else if (amount <= 5000000) filingFee = 10700;
        else filingFee = 12800;
      } else if (provider === 'jams') {
        filingFee = 1750; // JAMS filing fee
        filingFee += Math.min(amount * 0.002, 6500); // case management fee
      } else {
        filingFee = 500; // minimal admin for private
      }

      // Arbitrator compensation per day
      let arbDayRate = provider === 'jams' ? 2500 : provider === 'aaa' ? 1800 : 1500;
      const prepDays = Math.ceil(days * 0.5); // preparation time
      const arbitratorFee = (days + prepDays) * arbDayRate * panel;

      // Mediation costs
      let mediationCost = 0;
      if (mediation === 'yes') {
        mediationCost = 5000; // mediator day rate + admin
      }

      // Attorney fees for arbitration (typically 40-60% of litigation hours)
      const arbAttorneyHours = days * 12 + 40; // hearing time + prep
      const arbAttorneyFee = arbAttorneyHours * attyRate;

      const totalArb = filingFee + arbitratorFee + mediationCost + arbAttorneyFee;

      // Litigation equivalent estimate
      const litigationAttyHours = arbAttorneyHours * 2.2; // litigation takes ~2x the attorney hours
      const litigationFee = litigationAttyHours * attyRate + 3000; // + court fees
      const savings = litigationFee - totalArb;

      document.getElementById('arb-total')!.textContent = fmt(totalArb);
      document.getElementById('arb-filing')!.textContent = fmt(filingFee + mediationCost);
      document.getElementById('arb-arbitrator')!.textContent = fmt(arbitratorFee);
      document.getElementById('arb-attorney')!.textContent = fmt(arbAttorneyFee);
      document.getElementById('arb-litigation')!.textContent = fmt(litigationFee);
      document.getElementById('arb-savings')!.textContent = (savings > 0 ? 'Save ' : 'Extra ') + fmt(Math.abs(savings));

      document.dispatchEvent(new CustomEvent('calc-update'));
    }

    setTimeout(() => {
      document.querySelectorAll('.arb-in').forEach(el => {
        el.addEventListener('input', calcARB);
        el.addEventListener('change', calcARB);
      });
      calcARB();
    }, 50);
  </script>
</CalculatorLayout>
