---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Ceramic Tile Weight Calculator - Floor Load per Square Foot";
const description = "Calculate the weight of ceramic and porcelain tiles per square foot for floor load calculations. Includes thinset and grout weight.";
const relatedCalcs = [
  { name: "Mosaic Grout Calculator", url: "/mosaic-grout-calculator", description: "Grout quantity estimates." },
  { name: "Clay Shrinkage Calculator", url: "/clay-shrinkage-calculator", description: "Clay shrinkage rates." },
  { name: "Clay Weight Calculator", url: "/clay-weight-calculator", description: "Clay weight for forms." },
  { name: "Kiln Temperature Calculator", url: "/kiln-temperature-calculator", description: "Firing schedules." },
  { name: "Ceramic Mold Calculator", url: "/ceramic-mold-calculator", description: "Plaster mold ratios." },
  { name: "Square Footage Calculator", url: "/square-footage-calculator", description: "Area calculations." },
];
---
<CalculatorLayout
  title={title}
  description={description}
  calculatorName="Ceramic Tile Weight Calculator"
  keywords="tile weight, ceramic tile weight, porcelain tile weight, floor load, tile per square foot, tile weight calculator, tile installation weight"
  breadcrumbs={[{ name: "Ceramic Tile Weight Calculator", url: "/ceramic-tile-weight-calculator" }]}
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Ceramic Tile Weight Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Calculate total installed tile weight per square foot including thinset mortar and grout for structural load planning.</p>

    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="mb-5">
        <label class="block text-sm font-medium text-text mb-2">Tile Type</label>
        <select id="ctw-type" class="ctw-in w-full px-4 py-3 border border-border rounded-xl text-lg">
          <option value="ceramic" selected>Ceramic</option>
          <option value="porcelain">Porcelain</option>
          <option value="natural_stone">Natural Stone (Marble/Granite)</option>
          <option value="glass_tile">Glass Tile</option>
        </select>
      </div>

      <div class="grid grid-cols-2 gap-4 mb-5">
        <div>
          <label class="block text-sm font-medium text-text mb-2">Tile Length (inches)</label>
          <input type="number" id="ctw-length" class="ctw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="12" min="0.5" step="0.5">
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-2">Tile Width (inches)</label>
          <input type="number" id="ctw-width" class="ctw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="12" min="0.5" step="0.5">
        </div>
      </div>

      <div class="mb-5">
        <label class="block text-sm font-medium text-text mb-2">Tile Thickness (mm)</label>
        <input type="number" id="ctw-thick" class="ctw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="8" min="3" max="25" step="0.5">
      </div>

      <div class="grid grid-cols-2 gap-4 mb-5">
        <div>
          <label class="block text-sm font-medium text-text mb-2">Total Area (sq ft)</label>
          <input type="number" id="ctw-area" class="ctw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="100" min="1" step="1">
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-2">Thinset Depth (inches)</label>
          <input type="number" id="ctw-thinset" class="ctw-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0.1875" min="0.0625" max="0.5" step="0.0625">
        </div>
      </div>

      <!-- Primary Result -->
      <div class="p-6 bg-primary rounded-2xl text-white text-center mb-4">
        <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Total Installed Weight</div>
        <div class="text-4xl font-extrabold" id="ctw-total">--</div>
        <div class="text-sm text-blue-200 mt-1">for entire area</div>
      </div>

      <div class="grid grid-cols-2 gap-4 mb-4">
        <div class="p-4 bg-surface-alt rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Weight per Sq Ft</div>
          <div class="text-xl font-bold" id="ctw-psf">--</div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Tiles Needed</div>
          <div class="text-xl font-bold" id="ctw-count">--</div>
        </div>
      </div>

      <div class="grid grid-cols-2 gap-4 mb-4">
        <div class="p-4 bg-surface-alt rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Tile Weight Only</div>
          <div class="text-xl font-bold" id="ctw-tile-only">--</div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl text-center">
          <div class="text-xs text-text-muted uppercase">Thinset + Grout</div>
          <div class="text-xl font-bold" id="ctw-mortar">--</div>
        </div>
      </div>

      <div class="p-4 bg-surface-alt rounded-xl text-center mb-4">
        <div class="text-xs text-text-muted uppercase">Weight per Single Tile</div>
        <div class="text-xl font-bold" id="ctw-single">--</div>
      </div>

      <ShareButton calculatorId="ceramic-tile-weight" />
      <FeedbackWidget />
    </div>

    <article class="mt-12 max-w-4xl prose prose-slate">
      <h2 class="text-2xl font-bold text-text">Tile Weight for Floor Load Calculations</h2>
      <p>Knowing the total weight of a tile installation is critical for structural engineering, especially for elevated floors, countertops, and wall applications. The total dead load includes the tile, thinset mortar, and grout.</p>
      <h3 class="text-xl font-semibold text-text mt-8">Typical Tile Weights</h3>
      <ul>
        <li><strong>Ceramic tile:</strong> ~4 lbs/sq ft for standard 8mm thickness</li>
        <li><strong>Porcelain tile:</strong> ~5 lbs/sq ft for standard 8mm thickness</li>
        <li><strong>Natural stone:</strong> ~6-8 lbs/sq ft depending on stone type</li>
        <li><strong>Glass tile:</strong> ~3-4 lbs/sq ft for standard mosaic thickness</li>
      </ul>
    </article>

    <RelatedCalculators calculators={relatedCalcs} />
  </div>

  <script>
    function calcCTW() {
      const type = (document.getElementById('ctw-type') as HTMLSelectElement).value;
      const tileL = parseFloat((document.getElementById('ctw-length') as HTMLInputElement).value) || 12;
      const tileW = parseFloat((document.getElementById('ctw-width') as HTMLInputElement).value) || 12;
      const thickMM = parseFloat((document.getElementById('ctw-thick') as HTMLInputElement).value) || 8;
      const area = parseFloat((document.getElementById('ctw-area') as HTMLInputElement).value) || 100;
      const thinsetIn = parseFloat((document.getElementById('ctw-thinset') as HTMLInputElement).value) || 0.1875;

      // Density in lbs per cubic inch
      const densities: Record<string, number> = {
        ceramic: 0.072,     // ~2.0 g/cm3
        porcelain: 0.087,   // ~2.4 g/cm3
        natural_stone: 0.097, // ~2.7 g/cm3
        glass_tile: 0.090    // ~2.5 g/cm3
      };

      const density = densities[type] || 0.072;
      const thickIn = thickMM / 25.4;

      // Single tile weight
      const tileVolCuIn = tileL * tileW * thickIn;
      const singleTileWeight = tileVolCuIn * density;

      // Tile weight per sq ft
      const tileAreaSqIn = tileL * tileW;
      const tilesPerSqFt = 144 / tileAreaSqIn;
      const tileWeightPerSqFt = singleTileWeight * tilesPerSqFt;

      // Thinset weight per sq ft (~120 lbs/cu ft)
      const thinsetWeightPerSqFt = thinsetIn * 144 * (120 / 1728); // convert to per sq in then sq ft

      // Grout weight (approximate, ~1 lb per sq ft for standard grout joints)
      const groutWeightPerSqFt = 1.0;

      const totalPerSqFt = tileWeightPerSqFt + thinsetWeightPerSqFt + groutWeightPerSqFt;
      const totalWeight = totalPerSqFt * area;

      // Tile count (with 10% waste)
      const tileCount = Math.ceil(area * tilesPerSqFt * 1.1);

      document.getElementById('ctw-total')!.textContent = Math.round(totalWeight).toLocaleString() + ' lbs';
      document.getElementById('ctw-psf')!.textContent = totalPerSqFt.toFixed(1) + ' lbs/sqft';
      document.getElementById('ctw-count')!.textContent = tileCount + ' tiles';
      document.getElementById('ctw-tile-only')!.textContent = (tileWeightPerSqFt * area).toFixed(0) + ' lbs';
      document.getElementById('ctw-mortar')!.textContent = ((thinsetWeightPerSqFt + groutWeightPerSqFt) * area).toFixed(0) + ' lbs';
      document.getElementById('ctw-single')!.textContent = singleTileWeight.toFixed(2) + ' lbs';

      document.dispatchEvent(new CustomEvent('calc-update'));
    }

    setTimeout(() => {
      document.querySelectorAll('.ctw-in').forEach(el => {
        el.addEventListener('input', calcCTW);
        el.addEventListener('change', calcCTW);
      });
      calcCTW();
    }, 50);
  </script>
</CalculatorLayout>
