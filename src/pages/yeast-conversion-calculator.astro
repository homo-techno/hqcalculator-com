---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Yeast Conversion Calculator - Fresh, Active Dry & Instant";
const description = "Convert between fresh yeast, active dry yeast, and instant yeast amounts. Get exact conversion ratios for any recipe.";
const relatedCalcs = [
  { name: "Baker's Percentage Calculator", url: "/baker-percentage-calculator", description: "Calculate baker's percentages for recipes." },
  { name: "Bread Scoring Calculator", url: "/bread-scoring-calculator", description: "Estimate proofing time based on yeast and temp." },
  { name: "Fermentation Temperature Calculator", url: "/fermentation-temperature-calculator", description: "Calculate desired dough temperature." },
  { name: "Sourdough Calculator", url: "/sourdough-calculator", description: "Calculate sourdough starter ratios." },
  { name: "Dough Hydration Calculator", url: "/dough-hydration-calculator", description: "Calculate dough hydration percentage." },
  { name: "Baking Conversion Calculator", url: "/baking-conversion-calculator", description: "Convert between baking units." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Yeast Conversion Calculator" keywords="yeast conversion, fresh yeast to dry, instant yeast, active dry yeast, yeast substitute, baking yeast" breadcrumbs={[{ name: "Yeast Conversion", url: "/yeast-conversion-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Yeast Conversion Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Convert between fresh (cake) yeast, active dry yeast, and instant (rapid-rise) yeast with accurate ratios.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div>
          <label class="block text-xs font-medium text-text mb-1">Yeast Type You Have</label>
          <select id="yc2-from" class="yc2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="fresh">Fresh (Cake) Yeast</option>
            <option value="active" selected>Active Dry Yeast</option>
            <option value="instant">Instant (Rapid-Rise) Yeast</option>
          </select>
        </div>
        <div>
          <label class="block text-xs font-medium text-text mb-1">Amount (grams)</label>
          <input type="number" id="yc2-amount" class="yc2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="7" min="0" step="0.1">
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Conversion Results</div>
          <div class="text-3xl font-extrabold font-mono" id="yc2-result">--</div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Fresh Yeast</div>
            <div class="text-xl font-bold font-mono" id="yc2-fresh">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Active Dry Yeast</div>
            <div class="text-xl font-bold font-mono" id="yc2-active">--</div>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Instant Yeast</div>
            <div class="text-xl font-bold font-mono" id="yc2-instant">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Teaspoons (instant)</div>
            <div class="text-xl font-bold font-mono" id="yc2-tsp">--</div>
          </div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl">
          <div class="text-xs text-text-muted uppercase mb-2">Notes</div>
          <div class="text-sm text-text-secondary" id="yc2-notes">--</div>
        </div>
      </div>
      <ShareButton calculatorId="yeast-conversion" />
      <FeedbackWidget />
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcYC2() {
      const from = (document.getElementById('yc2-from') as HTMLSelectElement).value;
      const amount = parseFloat((document.getElementById('yc2-amount') as HTMLInputElement).value) || 0;

      // Conversion ratios: Fresh = 3x Active Dry, Active Dry = 1.25x Instant
      // Fresh:Active Dry:Instant = 3 : 1 : 0.75 (approximate standard ratios)
      let fresh = 0, active = 0, instant = 0;

      if (from === 'fresh') {
        fresh = amount;
        active = amount / 2.5;
        instant = amount / 3;
      } else if (from === 'active') {
        fresh = amount * 2.5;
        active = amount;
        instant = amount * 0.75;
      } else {
        fresh = amount * 3;
        active = amount / 0.75;
        instant = amount;
      }

      const tspInstant = instant / 3.1; // ~3.1g per tsp of instant yeast

      document.getElementById('yc2-result')!.textContent = fresh.toFixed(1) + 'g fresh = ' + active.toFixed(1) + 'g active dry = ' + instant.toFixed(1) + 'g instant';
      document.getElementById('yc2-fresh')!.textContent = fresh.toFixed(1) + ' g';
      document.getElementById('yc2-active')!.textContent = active.toFixed(1) + ' g';
      document.getElementById('yc2-instant')!.textContent = instant.toFixed(1) + ' g';
      document.getElementById('yc2-tsp')!.textContent = tspInstant.toFixed(1) + ' tsp';

      let notes = '';
      if (from === 'fresh') notes = 'Fresh yeast should be crumbled into lukewarm liquid. Store refrigerated and use within 2 weeks.';
      else if (from === 'active') notes = 'Active dry yeast should be dissolved in warm water (105-110\u00B0F / 40-43\u00B0C) for 5-10 minutes before use.';
      else notes = 'Instant yeast can be mixed directly into dry ingredients. No proofing needed.';
      document.getElementById('yc2-notes')!.textContent = notes;

      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.yc2-in').forEach(el => { el.addEventListener('input', calcYC2); el.addEventListener('change', calcYC2); });
      calcYC2();
    }, 50);
  </script>
</CalculatorLayout>
