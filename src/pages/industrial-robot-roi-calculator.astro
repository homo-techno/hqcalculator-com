---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Industrial Robot ROI Calculator - Payback Period & TCO";
const description = "Calculate the return on investment for industrial robot automation. Estimate labor savings, payback period, total cost of ownership, and 5-year ROI for robot projects.";
const relatedCalcs = [
  { name: "Robot Speed Calculator", url: "/robot-speed-calculator", description: "Optimize robot cycle time and throughput." },
  { name: "Cobot Payload Calculator", url: "/cobot-payload-calculator", description: "Calculate collaborative robot payload capacity." },
  { name: "Robot Arm Calculator", url: "/robot-arm-calculator", description: "Calculate robot arm reach and workspace." },
  { name: "ROI Calculator", url: "/roi-calculator", description: "General return on investment calculator." },
  { name: "Break Even Calculator", url: "/break-even-calculator", description: "Calculate break-even point for investments." },
  { name: "Conveyor Speed Calculator", url: "/conveyor-speed-calculator", description: "Calculate conveyor throughput for automation." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Industrial Robot ROI Calculator" keywords="robot ROI calculator, automation payback, robot investment, labor savings, total cost ownership, robot TCO, automation ROI" breadcrumbs={[{ name: "Industrial Robot ROI Calculator", url: "/industrial-robot-roi-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Industrial Robot ROI Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Estimate the return on investment for a robot automation project. Calculate payback period, annual savings, and total cost of ownership over the project lifetime.</p>

    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-6">
        <h3 class="text-lg font-bold text-text">Robot Investment</h3>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Robot Purchase Price ($)</label>
          <input type="number" id="irr-robot-cost" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="75000" min="1000" step="5000">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Integration / Installation ($)</label>
          <input type="number" id="irr-integration" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="50000" min="0" step="5000">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">End-of-Arm Tooling ($)</label>
          <input type="number" id="irr-tooling" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="15000" min="0" step="1000">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Annual Maintenance ($)</label>
          <input type="number" id="irr-maintenance" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="5000" min="0" step="500">
        </div>

        <h3 class="text-lg font-bold text-text">Labor Savings</h3>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Workers Replaced</label>
          <input type="number" id="irr-workers" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="2" min="0.5" step="0.5">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Fully Loaded Labor Cost ($/hr)</label>
          <input type="number" id="irr-labor-rate" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="35" min="10" step="1">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Shifts Per Day</label>
          <input type="number" id="irr-shifts" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="2" min="1" max="3" step="1">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Working Days Per Year</label>
          <input type="number" id="irr-days" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="250" min="100" max="365" step="5">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Robot Electricity Cost ($/year)</label>
          <input type="number" id="irr-electric" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="2000" min="0" step="100">
        </div>
        <div>
          <label class="block text-sm font-semibold text-text mb-2">Analysis Period (years)</label>
          <input type="number" id="irr-years" class="irr-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="5" min="1" max="15" step="1">
        </div>

        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm font-medium opacity-80 mb-1">Payback Period</div>
          <div id="irr-result-payback" class="text-3xl sm:text-4xl font-extrabold">--</div>
          <div class="text-sm opacity-80 mt-1">months</div>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-secondary mb-1">Total Investment</div>
            <div id="irr-total-invest" class="text-lg font-bold text-text">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-secondary mb-1">Annual Labor Savings</div>
            <div id="irr-annual-save" class="text-lg font-bold text-text">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-secondary mb-1">Net Annual Savings</div>
            <div id="irr-net-save" class="text-lg font-bold text-text">--</div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-secondary mb-1">ROI Over Period</div>
            <div id="irr-roi" class="text-lg font-bold text-text">--</div>
          </div>
        </div>

        <ShareButton />
        <FeedbackWidget />
      </div>
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>

  <script>
    function calcIRR() {
      const robotCost = parseFloat((document.getElementById('irr-robot-cost') as HTMLInputElement).value) || 75000;
      const integration = parseFloat((document.getElementById('irr-integration') as HTMLInputElement).value) || 50000;
      const tooling = parseFloat((document.getElementById('irr-tooling') as HTMLInputElement).value) || 15000;
      const maintenance = parseFloat((document.getElementById('irr-maintenance') as HTMLInputElement).value) || 5000;
      const workers = parseFloat((document.getElementById('irr-workers') as HTMLInputElement).value) || 2;
      const laborRate = parseFloat((document.getElementById('irr-labor-rate') as HTMLInputElement).value) || 35;
      const shifts = parseFloat((document.getElementById('irr-shifts') as HTMLInputElement).value) || 2;
      const days = parseFloat((document.getElementById('irr-days') as HTMLInputElement).value) || 250;
      const electric = parseFloat((document.getElementById('irr-electric') as HTMLInputElement).value) || 2000;
      const years = parseFloat((document.getElementById('irr-years') as HTMLInputElement).value) || 5;

      const totalInvestment = robotCost + integration + tooling;
      const annualLaborSavings = workers * laborRate * 8 * shifts * days;
      const annualCosts = maintenance + electric;
      const netAnnualSavings = annualLaborSavings - annualCosts;
      const paybackMonths = netAnnualSavings > 0 ? (totalInvestment / netAnnualSavings) * 12 : Infinity;
      const totalSavings = netAnnualSavings * years - totalInvestment;
      const roiPct = (totalSavings / totalInvestment) * 100;

      const fmt = (n: number) => '$' + n.toLocaleString(undefined, { maximumFractionDigits: 0 });

      document.getElementById('irr-result-payback')!.textContent = paybackMonths === Infinity ? 'Never' : paybackMonths.toFixed(1);
      document.getElementById('irr-total-invest')!.textContent = fmt(totalInvestment);
      document.getElementById('irr-annual-save')!.textContent = fmt(annualLaborSavings);
      document.getElementById('irr-net-save')!.textContent = fmt(netAnnualSavings);
      document.getElementById('irr-roi')!.textContent = roiPct.toFixed(0) + '%';
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.irr-in').forEach(el => { el.addEventListener('input', calcIRR); el.addEventListener('change', calcIRR); });
      calcIRR();
    }, 50);
  </script>
</CalculatorLayout>
