---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Laundry Cost Calculator";
const description = "Calculate the true cost of doing laundry including water, electricity, detergent, and wear.";
const relatedCalcs = [
  { name: "Electricity Cost", url: "/electricity-cost-calculator", description: "Electricity." },
  { name: "Budget Calculator", url: "/budget-calculator", description: "Budget." },
  { name: "Water Intake", url: "/water-intake-calculator", description: "Water." },
  { name: "Unit Price", url: "/unit-price-calculator", description: "Unit price." },
  { name: "Percentage Calculator", url: "/percentage-calculator", description: "Percentage." },
  { name: "Cost of Living", url: "/cost-of-living-calculator", description: "Cost of living." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Laundry Cost Calculator" keywords="laundry cost calculator, cost per load, washing machine cost, laundry expense, utility cost" breadcrumbs={[{ name: "Laundry Cost", url: "/laundry-cost-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Laundry Cost Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Calculate the true cost of each laundry load.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Electricity Rate ($/kWh)</label><input type="number" id="lc-elec" class="lc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0.12" min="0" step="0.01"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Water Rate ($/gal)</label><input type="number" id="lc-water" class="lc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0.005" min="0" step="0.001"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Washer kWh/load</label><input type="number" id="lc-wkwh" class="lc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0.5" min="0" step="0.1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Dryer kWh/load</label><input type="number" id="lc-dkwh" class="lc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="3.0" min="0" step="0.1"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Water/load (gallons)</label><input type="number" id="lc-gal" class="lc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="20" min="0" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Detergent $/load</label><input type="number" id="lc-det" class="lc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="0.25" min="0" step="0.01"></div>
        </div>
        <div><label class="block text-xs font-medium text-text mb-1">Loads per Week</label><input type="number" id="lc-loads" class="lc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="5" min="0" step="1"></div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Cost Per Load</div>
          <div class="text-5xl font-extrabold font-mono" id="lc-result">$0.00</div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Weekly</div><div class="text-xl font-bold font-mono" id="lc-week">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Monthly</div><div class="text-xl font-bold font-mono" id="lc-month">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Yearly</div><div class="text-xl font-bold font-mono" id="lc-year">$0</div></div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Electricity</div><div class="text-sm font-bold font-mono" id="lc-ec">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Water</div><div class="text-sm font-bold font-mono" id="lc-wc">$0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Detergent</div><div class="text-sm font-bold font-mono" id="lc-dc">$0</div></div>
        </div>
      </div>
      <ShareButton calculatorId="laundry-cost" />
      <FeedbackWidget />
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcLC() {
      const elecRate = parseFloat((document.getElementById('lc-elec') as HTMLInputElement).value) || 0;
      const waterRate = parseFloat((document.getElementById('lc-water') as HTMLInputElement).value) || 0;
      const wKwh = parseFloat((document.getElementById('lc-wkwh') as HTMLInputElement).value) || 0;
      const dKwh = parseFloat((document.getElementById('lc-dkwh') as HTMLInputElement).value) || 0;
      const gal = parseFloat((document.getElementById('lc-gal') as HTMLInputElement).value) || 0;
      const det = parseFloat((document.getElementById('lc-det') as HTMLInputElement).value) || 0;
      const loads = parseFloat((document.getElementById('lc-loads') as HTMLInputElement).value) || 0;
      const elecCost = (wKwh + dKwh) * elecRate;
      const waterCost = gal * waterRate;
      const perLoad = elecCost + waterCost + det;
      document.getElementById('lc-result')!.textContent = '$' + perLoad.toFixed(2);
      document.getElementById('lc-week')!.textContent = '$' + (perLoad * loads).toFixed(2);
      document.getElementById('lc-month')!.textContent = '$' + (perLoad * loads * 4.33).toFixed(2);
      document.getElementById('lc-year')!.textContent = '$' + (perLoad * loads * 52).toFixed(2);
      document.getElementById('lc-ec')!.textContent = '$' + elecCost.toFixed(3);
      document.getElementById('lc-wc')!.textContent = '$' + waterCost.toFixed(3);
      document.getElementById('lc-dc')!.textContent = '$' + det.toFixed(3);
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.querySelectorAll('.lc-in').forEach(el => { el.addEventListener('input', calcLC); el.addEventListener('change', calcLC); });
      calcLC();
    }, 50);
  </script>
</CalculatorLayout>
