---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Trademark Cost Calculator - USPTO Registration Fees";
const description = "Calculate trademark registration costs including USPTO filing fees, number of classes, attorney fees, and maintenance costs for federal trademark protection.";
const relatedCalcs = [
  { name: "Patent Cost Calculator", url: "/patent-cost-calculator", description: "Patent filing costs." },
  { name: "Incorporation Calculator", url: "/incorporation-calculator", description: "Business formation." },
  { name: "Legal Fee Calculator", url: "/legal-fee-calculator", description: "Lawyer cost estimates." },
  { name: "Compliance Cost Calculator", url: "/compliance-cost-calculator", description: "Compliance budgeting." },
  { name: "Contract Value Calculator", url: "/contract-value-calculator", description: "Contract valuation." },
  { name: "Court Fee Calculator", url: "/court-fee-calculator", description: "Court filing fees." },
];
---

<CalculatorLayout title={title} description={description} calculatorName="Trademark Cost Calculator" keywords="trademark cost calculator, USPTO fees, trademark registration, trademark class, trademark attorney, trademark filing, intellectual property" breadcrumbs={[{ name: "Trademark Cost", url: "/trademark-cost-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Trademark Cost Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Estimate total trademark registration costs including USPTO fees, attorney costs, and maintenance.</p>

    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-text mb-1">Filing Basis</label>
          <select id="tmc-basis" class="tmc-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="teas-plus" selected>TEAS Plus ($250/class)</option>
            <option value="teas-standard">TEAS Standard ($350/class)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Number of Classes</label>
          <input type="number" id="tmc-classes" class="tmc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="1" min="1" max="45" step="1">
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Trademark Search</label>
          <select id="tmc-search" class="tmc-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="none">No search (DIY)</option>
            <option value="basic" selected>Basic search ($200-400)</option>
            <option value="comprehensive">Comprehensive search ($500-1,200)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Attorney Assistance</label>
          <select id="tmc-attorney" class="tmc-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="none">No attorney (DIY filing)</option>
            <option value="online">Online legal service ($200-500)</option>
            <option value="attorney" selected>Trademark attorney ($750-2,000)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">Include 10-Year Maintenance Costs?</label>
          <select id="tmc-maint" class="tmc-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="no" selected>No - Registration only</option>
            <option value="yes">Yes - Include maintenance fees</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-text mb-1">International Filing (Madrid Protocol)?</label>
          <select id="tmc-intl" class="tmc-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="0" selected>No international filing</option>
            <option value="1">1 country</option>
            <option value="3">3 countries</option>
            <option value="5">5 countries</option>
          </select>
        </div>
      </div>

      <div class="mt-6 space-y-3">
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Estimated Total Cost</div>
          <div class="text-5xl font-extrabold font-mono" id="tmc-total"></div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">USPTO Filing Fees</div>
            <div class="text-xl font-bold text-secondary" id="tmc-uspto"></div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Search Costs</div>
            <div class="text-xl font-bold" id="tmc-search-cost"></div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Attorney Fees</div>
            <div class="text-xl font-bold text-orange-600" id="tmc-atty-cost"></div>
          </div>
          <div class="p-4 bg-surface-alt rounded-xl text-center">
            <div class="text-xs text-text-muted uppercase">Maintenance / Intl</div>
            <div class="text-xl font-bold" id="tmc-extra"></div>
          </div>
        </div>
      </div>
      <ShareButton calculatorId="trademark-cost" />
      <FeedbackWidget />
    </div>

    <article class="mt-12 max-w-4xl prose prose-slate">
      <h2 class="text-2xl font-bold text-text">Understanding Trademark Registration Costs</h2>
      <p>Registering a trademark with the USPTO involves filing fees ($250-$350 per class), optional attorney assistance ($750-$2,000+), and trademark search costs. The process typically takes 8-12 months. TEAS Plus offers a lower fee but requires using pre-approved descriptions of goods and services.</p>
      <h3 class="text-xl font-semibold text-text mt-8">Maintenance Requirements</h3>
      <p>After registration, you must file a Section 8 Declaration of Use between years 5-6 ($225/class) and renew every 10 years ($300/class for renewal + $225/class for continued use). Failure to maintain your trademark results in cancellation.</p>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>

  <script>
    const fmt = (n: number) => '$' + Math.round(n).toLocaleString();

    function calcTMC() {
      const basis = (document.getElementById('tmc-basis') as HTMLSelectElement).value;
      const classes = parseInt((document.getElementById('tmc-classes') as HTMLInputElement).value) || 1;
      const search = (document.getElementById('tmc-search') as HTMLSelectElement).value;
      const attorney = (document.getElementById('tmc-attorney') as HTMLSelectElement).value;
      const maint = (document.getElementById('tmc-maint') as HTMLSelectElement).value;
      const intlCountries = parseInt((document.getElementById('tmc-intl') as HTMLSelectElement).value) || 0;

      const perClass = basis === 'teas-plus' ? 250 : 350;
      const usptoFees = perClass * classes;

      const searchCosts: Record<string, number> = { none: 0, basic: 300, comprehensive: 850 };
      const searchCost = searchCosts[search] || 0;

      const attyCosts: Record<string, number> = { none: 0, online: 350, attorney: 1250 };
      let attyCost = attyCosts[attorney] || 0;
      if (classes > 1 && attorney !== 'none') attyCost += (classes - 1) * 150;

      let extraCost = 0;
      if (maint === 'yes') {
        // Section 8 (year 5-6): $225/class, Section 9 renewal (year 10): $300/class + $225/class
        extraCost = (225 * classes) + (525 * classes);
      }

      // International filing via Madrid Protocol
      const intlFee = intlCountries > 0 ? (653 + intlCountries * 450 * classes) : 0;
      extraCost += intlFee;

      const total = usptoFees + searchCost + attyCost + extraCost;

      document.getElementById('tmc-total')!.textContent = fmt(total);
      document.getElementById('tmc-uspto')!.textContent = fmt(usptoFees);
      document.getElementById('tmc-search-cost')!.textContent = fmt(searchCost);
      document.getElementById('tmc-atty-cost')!.textContent = fmt(attyCost);
      document.getElementById('tmc-extra')!.textContent = fmt(extraCost);

      document.dispatchEvent(new CustomEvent('calc-update'));
    }

    setTimeout(() => {
      document.querySelectorAll('.tmc-in').forEach(el => {
        el.addEventListener('input', calcTMC);
        el.addEventListener('change', calcTMC);
      });
      calcTMC();
    }, 50);
  </script>
</CalculatorLayout>
