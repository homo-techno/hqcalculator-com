---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Alcohol Calorie Calculator - Calories in Drinks";
const description = "Calculate the calories in alcoholic drinks based on type, volume, and alcohol content.";
const relatedCalcs = [
  { name: "Calorie Calculator", url: "/calorie-calculator", description: "Daily calories." },
  { name: "BMI Calculator", url: "/bmi-calculator", description: "Body mass index." },
  { name: "Macro Calculator", url: "/macro-calculator", description: "Macros." },
  { name: "BAC Calculator", url: "/bac-calculator", description: "BAC." },
  { name: "Protein Calculator", url: "/protein-calculator", description: "Protein." },
  { name: "Keto Calculator", url: "/keto-calculator", description: "Keto diet." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Alcohol Calorie Calculator" keywords="alcohol calories, beer calories, wine calories, cocktail calories, drink calorie calculator" breadcrumbs={[{ name: "Alcohol Calories", url: "/alcohol-calorie-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Alcohol Calorie Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Find out how many calories are in your drinks.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div>
          <label class="block text-xs font-medium text-text mb-1">Drink Type</label>
          <select id="al-type" class="w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="beer" selected>Beer</option>
            <option value="wine">Wine</option>
            <option value="spirits">Spirits/Liquor</option>
            <option value="cocktail">Cocktail</option>
            <option value="custom">Custom</option>
          </select>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Volume (ml)</label><input type="number" id="al-vol" class="al-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="355" min="1" step="10"></div>
          <div><label class="block text-xs font-medium text-text mb-1">ABV (%)</label><input type="number" id="al-abv" class="al-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="5" min="0" max="100" step="0.1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Number of Drinks</label><input type="number" id="al-count" class="al-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" value="1" min="1" max="20" step="1"></div>
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Total Calories</div>
          <div class="text-5xl font-extrabold" id="al-cals">0</div>
          <div class="text-sm text-blue-200 mt-1" id="al-per">0 cal per drink</div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Pure Alcohol</div><div class="text-xl font-bold" id="al-pure">0g</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Standard Drinks</div><div class="text-xl font-bold" id="al-std">0</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Walking (min)</div><div class="text-xl font-bold" id="al-walk">0</div></div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl">
          <h3 class="font-semibold text-sm text-text mb-3">Common Drinks Reference</h3>
          <div class="grid grid-cols-2 gap-2 text-sm">
            <div class="flex justify-between"><span>Beer (355ml, 5%)</span><span class="font-bold">153 cal</span></div>
            <div class="flex justify-between"><span>Red Wine (150ml, 13%)</span><span class="font-bold">125 cal</span></div>
            <div class="flex justify-between"><span>Vodka shot (44ml, 40%)</span><span class="font-bold">97 cal</span></div>
            <div class="flex justify-between"><span>Margarita (240ml)</span><span class="font-bold">274 cal</span></div>
            <div class="flex justify-between"><span>Light Beer (355ml, 4%)</span><span class="font-bold">103 cal</span></div>
            <div class="flex justify-between"><span>Champagne (150ml, 12%)</span><span class="font-bold">84 cal</span></div>
          </div>
        </div>
      </div>
      <ShareButton calculatorId="alcohol-calorie" />
      <FeedbackWidget />
    </div>
    <article class="mt-12 max-w-4xl prose prose-slate mx-auto">
      <h2 class="text-2xl font-bold text-text">Alcohol & Calories</h2>
      <p>Pure alcohol contains 7 calories per gram. The formula: Calories = Volume (ml) × ABV × 0.789 × 7</p>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    const presets: Record<string, [number, number]> = {
      beer: [355, 5], wine: [150, 13], spirits: [44, 40], cocktail: [240, 15], custom: [100, 10]
    };
    function setPreset() {
      const type = (document.getElementById('al-type') as HTMLSelectElement).value;
      const [vol, abv] = presets[type];
      (document.getElementById('al-vol') as HTMLInputElement).value = String(vol);
      (document.getElementById('al-abv') as HTMLInputElement).value = String(abv);
      calcAlc();
    }
    function calcAlc() {
      const vol = parseFloat((document.getElementById('al-vol') as HTMLInputElement).value) || 0;
      const abv = parseFloat((document.getElementById('al-abv') as HTMLInputElement).value) || 0;
      const count = parseInt((document.getElementById('al-count') as HTMLInputElement).value) || 1;
      const pureAlcoholML = vol * (abv / 100);
      const pureAlcoholG = pureAlcoholML * 0.789;
      const calsPerDrink = Math.round(pureAlcoholG * 7);
      const totalCals = calsPerDrink * count;
      const standardDrinks = (pureAlcoholG / 14) * count;
      document.getElementById('al-cals')!.textContent = totalCals.toLocaleString();
      document.getElementById('al-per')!.textContent = calsPerDrink + ' cal per drink';
      document.getElementById('al-pure')!.textContent = (pureAlcoholG * count).toFixed(1) + 'g';
      document.getElementById('al-std')!.textContent = standardDrinks.toFixed(1);
      document.getElementById('al-walk')!.textContent = Math.round(totalCals / 5) + ' min';
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      document.getElementById('al-type')!.addEventListener('change', setPreset);
      document.querySelectorAll('.al-in').forEach(el => el.addEventListener('input', calcAlc));
      calcAlc();
    }, 50);
  </script>
</CalculatorLayout>
