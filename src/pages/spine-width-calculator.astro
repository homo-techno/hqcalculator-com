---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Spine Width Calculator - Book Spine Thickness from Page Count";
const description = "Calculate book spine width from page count and paper stock thickness. Essential for cover design and printing specifications.";
const relatedCalcs = [
  { name: "Book Binding Calculator", url: "/book-binding-calculator", description: "Binding method costs." },
  { name: "Paper Weight Calculator", url: "/paper-weight-calculator", description: "Convert paper weights." },
  { name: "Typesetting Calculator", url: "/typesetting-calculator", description: "Characters per page." },
  { name: "ISBN Calculator", url: "/isbn-calculator", description: "ISBN check digit validator." },
  { name: "Print Cost Calculator", url: "/print-cost-calculator", description: "Print job cost estimator." },
  { name: "Bleed Margin Calculator", url: "/bleed-margin-calculator", description: "Print bleed calculations." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Spine Width Calculator" keywords="spine width, book spine, spine thickness, page count, paper thickness, cover design, book spine calculator" breadcrumbs={[{ name: "Spine Width Calculator", url: "/spine-width-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Spine Width Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Calculate the spine width of a book from the number of pages and paper thickness. Essential for designing book covers.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Total Page Count</label><input type="number" id="sw2-pages" class="sw2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="1" step="2"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Paper Stock</label>
            <select id="sw2-stock" class="sw2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
              <option value="0.0025">White 50lb (0.0025 in/leaf)</option>
              <option value="0.003">White 60lb (0.003 in/leaf)</option>
              <option value="0.0035">White 70lb (0.0035 in/leaf)</option>
              <option value="0.004">White 80lb (0.004 in/leaf)</option>
              <option value="0.0045">Cream 50lb (0.0045 in/leaf)</option>
              <option value="0.005">Cream 60lb (0.005 in/leaf)</option>
              <option value="0.0055">Cream 70lb (0.0055 in/leaf)</option>
              <option value="custom">Custom thickness</option>
            </select>
          </div>
        </div>
        <div><label class="block text-xs font-medium text-text mb-1">Custom Leaf Thickness (inches) - if custom selected</label><input type="number" id="sw2-custom" class="sw2-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="0.001" step="0.0005"></div>
        <div><label class="block text-xs font-medium text-text mb-1">Cover Type</label>
          <select id="sw2-cover" class="sw2-in w-full px-4 py-3 border border-border rounded-xl text-lg">
            <option value="0">Softcover (no added width)</option>
            <option value="0.08">Hardcover, thin board (0.08 in)</option>
            <option value="0.12">Hardcover, standard board (0.12 in)</option>
            <option value="0.16">Hardcover, thick board (0.16 in)</option>
          </select>
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Spine Width</div>
          <div class="text-5xl font-extrabold font-mono" id="sw2-result">0.000 in</div>
          <div class="text-sm text-blue-200 mt-1" id="sw2-metric"></div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Pages (sheets/leaves)</div><div class="text-xl font-bold" id="sw2-leaves">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Paper Block Width</div><div class="text-xl font-bold" id="sw2-block">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Cover Addition</div><div class="text-xl font-bold" id="sw2-coverwidth">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Total Cover Width</div><div class="text-xl font-bold" id="sw2-totalcover">--</div></div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl">
          <h3 class="font-semibold text-sm text-text mb-2">Cover Dimension Guide</h3>
          <div class="font-mono text-sm space-y-1" id="sw2-steps"></div>
        </div>
      </div>
      <ShareButton calculatorId="spine-width" />
      <FeedbackWidget />
    </div>
    <article class="mt-12 max-w-4xl prose prose-slate mx-auto">
      <h2 class="text-2xl font-bold text-text">How Spine Width is Calculated</h2>
      <div class="bg-surface-alt rounded-xl p-4 my-4 font-mono text-sm space-y-1">
        <p>Leaves (sheets) = Page Count / 2</p>
        <p>Paper Block Width = Leaves x Thickness per Leaf</p>
        <p>Total Spine = Paper Block + Cover Board (if hardcover)</p>
        <p>Full Cover Width = Front + Spine + Back + Bleeds</p>
      </div>
    </article>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcSw2() {
      const pages = parseFloat((document.getElementById('sw2-pages') as HTMLInputElement).value) || 0;
      const stockVal = (document.getElementById('sw2-stock') as HTMLSelectElement).value;
      const custom = parseFloat((document.getElementById('sw2-custom') as HTMLInputElement).value) || 0.003;
      const coverAdd = parseFloat((document.getElementById('sw2-cover') as HTMLSelectElement).value) || 0;
      const thickness = stockVal === 'custom' ? custom : parseFloat(stockVal);
      const leaves = Math.ceil(pages / 2);
      const blockWidth = leaves * thickness;
      const spineWidth = blockWidth + coverAdd;
      const spineMm = spineWidth * 25.4;
      const steps: string[] = [];
      steps.push('Leaves: ' + pages + ' pages / 2 = ' + leaves + ' sheets');
      steps.push('Paper block: ' + leaves + ' x ' + thickness.toFixed(4) + ' in = ' + blockWidth.toFixed(4) + ' in');
      if (coverAdd > 0) steps.push('Cover boards: + ' + coverAdd.toFixed(2) + ' in');
      steps.push('Spine width: ' + spineWidth.toFixed(4) + ' in (' + spineMm.toFixed(2) + ' mm)');
      steps.push('---');
      steps.push('For a 6x9 book with 0.125" bleed:');
      const coverWidth = 6 + spineWidth + 6 + 0.25;
      const coverHeight = 9 + 0.25;
      steps.push('Full cover width: 6 + ' + spineWidth.toFixed(3) + ' + 6 + 0.25 = ' + coverWidth.toFixed(3) + ' in');
      steps.push('Full cover height: 9 + 0.25 = ' + coverHeight.toFixed(3) + ' in');
      document.getElementById('sw2-result')!.textContent = spineWidth.toFixed(3) + ' in';
      document.getElementById('sw2-metric')!.textContent = spineMm.toFixed(2) + ' mm';
      document.getElementById('sw2-leaves')!.textContent = leaves.toString();
      document.getElementById('sw2-block')!.textContent = blockWidth.toFixed(4) + ' in';
      document.getElementById('sw2-coverwidth')!.textContent = coverAdd > 0 ? coverAdd.toFixed(2) + ' in' : 'None';
      document.getElementById('sw2-totalcover')!.textContent = coverWidth.toFixed(3) + ' in';
      document.getElementById('sw2-steps')!.innerHTML = steps.map(s => '<div>' + s + '</div>').join('');
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      (document.getElementById('sw2-pages') as HTMLInputElement).value = '300';
      (document.getElementById('sw2-custom') as HTMLInputElement).value = '0.003';
      document.querySelectorAll('.sw2-in').forEach(el => { el.addEventListener('input', calcSw2); el.addEventListener('change', calcSw2); });
      calcSw2();
    }, 50);
  </script>
</CalculatorLayout>
