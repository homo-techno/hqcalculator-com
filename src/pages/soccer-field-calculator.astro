---
import CalculatorLayout from '../layouts/CalculatorLayout.astro';
import ShareButton from '../components/ShareButton.astro';
import FeedbackWidget from '../components/FeedbackWidget.astro';
import RelatedCalculators from '../components/RelatedCalculators.astro';
const title = "Soccer Field Calculator";
const description = "Calculate soccer field dimensions, area, perimeter, marking paint needed, and grass seed coverage for any field size.";
const relatedCalcs = [
  { name: "Area Calculator", url: "/area-calculator", description: "Area formulas." },
  { name: "Percentage", url: "/percentage-calculator", description: "Percentage math." },
  { name: "Asphalt Calculator", url: "/asphalt-calculator", description: "Material volumes." },
  { name: "Bowling Score", url: "/bowling-score-calculator", description: "Bowling scores." },
  { name: "Sports Betting", url: "/sports-betting-calculator", description: "Odds and payouts." },
  { name: "Speed Calculator", url: "/speed-calculator", description: "Speed conversions." },
];
---
<CalculatorLayout title={title} description={description} calculatorName="Soccer Field Calculator" keywords="soccer field calculator, soccer pitch dimensions, field area, perimeter, marking paint, grass seed" breadcrumbs={[{ name: "Soccer Field", url: "/soccer-field-calculator" }]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-text mb-2">Soccer Field Calculator</h1>
    <p class="text-text-secondary mb-8 max-w-2xl">Calculate soccer field dimensions, area, perimeter, and materials needed for marking and maintenance.</p>
    <div class="bg-white border border-border rounded-2xl shadow-sm p-6 sm:p-8 max-w-2xl mx-auto">
      <div class="space-y-4">
        <div>
          <label class="block text-xs font-medium text-text mb-1">Field Standard</label>
          <select id="sc-standard" class="sc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold">
            <option value="fifa">FIFA International (105m x 68m)</option>
            <option value="premier" selected>Premier League (105m x 68m)</option>
            <option value="mls">MLS (110m x 73m)</option>
            <option value="high">High School (100m x 55m)</option>
            <option value="youth">Youth U-12 (73m x 46m)</option>
            <option value="custom">Custom Dimensions</option>
          </select>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div><label class="block text-xs font-medium text-text mb-1">Length (m)</label><input type="number" id="sc-length" class="sc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="50" max="130" step="1"></div>
          <div><label class="block text-xs font-medium text-text mb-1">Width (m)</label><input type="number" id="sc-width" class="sc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="30" max="100" step="1"></div>
        </div>
        <div>
          <label class="block text-xs font-medium text-text mb-1">Line Width (cm)</label>
          <input type="number" id="sc-linewidth" class="sc-in w-full px-4 py-3 border border-border rounded-xl text-lg font-bold" min="5" max="15" step="1">
        </div>
        <div class="p-6 bg-primary rounded-2xl text-white text-center">
          <div class="text-sm text-blue-200 uppercase tracking-wide mb-1">Field Area</div>
          <div class="text-5xl font-extrabold font-mono" id="sc-area">--</div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Perimeter</div><div class="text-xl font-bold font-mono" id="sc-perimeter">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Area (acres)</div><div class="text-xl font-bold font-mono" id="sc-acres">--</div></div>
          <div class="p-4 bg-surface-alt rounded-xl text-center"><div class="text-xs text-text-muted uppercase">Area (sq ft)</div><div class="text-xl font-bold font-mono" id="sc-sqft">--</div></div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl">
          <h3 class="font-semibold text-sm text-text mb-2">Field Markings</h3>
          <div class="text-sm space-y-1" id="sc-markings"></div>
        </div>
        <div class="p-4 bg-surface-alt rounded-xl">
          <h3 class="font-semibold text-sm text-text mb-2">Materials Needed</h3>
          <div class="text-sm space-y-1" id="sc-materials"></div>
        </div>
      </div>
      <ShareButton calculatorId="soccer-field" />
      <FeedbackWidget />
    </div>
    <RelatedCalculators calculators={relatedCalcs} />
  </div>
  <script>
    function calcSC() {
      const standard = (document.getElementById('sc-standard') as HTMLSelectElement).value;
      const lengthEl = document.getElementById('sc-length') as HTMLInputElement;
      const widthEl = document.getElementById('sc-width') as HTMLInputElement;
      if (standard !== 'custom') {
        const dims: Record<string, [number, number]> = {
          fifa: [105, 68], premier: [105, 68], mls: [110, 73], high: [100, 55], youth: [73, 46]
        };
        const [l, w] = dims[standard] || [105, 68];
        lengthEl.value = l.toString();
        widthEl.value = w.toString();
      }
      const length = parseFloat(lengthEl.value) || 0;
      const width = parseFloat(widthEl.value) || 0;
      const lineWidthCm = parseFloat((document.getElementById('sc-linewidth') as HTMLInputElement).value) || 12;
      if (length <= 0 || width <= 0) return;
      const area = length * width;
      const perimeter = 2 * (length + width);
      const acres = area / 4047;
      const sqft = area * 10.764;
      document.getElementById('sc-area')!.textContent = area.toFixed(0) + ' m\u00B2';
      document.getElementById('sc-perimeter')!.textContent = perimeter.toFixed(0) + ' m';
      document.getElementById('sc-acres')!.textContent = acres.toFixed(2);
      document.getElementById('sc-sqft')!.textContent = Math.round(sqft).toLocaleString();
      const penaltyAreaL = 40.3;
      const penaltyAreaW = 16.5;
      const goalAreaL = 18.3;
      const goalAreaW = 5.5;
      const centerCircleR = 9.15;
      const penaltyArcR = 9.15;
      const totalLineLength =
        perimeter +
        width +
        2 * (penaltyAreaL + 2 * penaltyAreaW) +
        2 * (goalAreaL + 2 * goalAreaW) +
        2 * Math.PI * centerCircleR +
        2 * (Math.PI * penaltyArcR * (53 / 360));
      document.getElementById('sc-markings')!.innerHTML = [
        `<div class="flex justify-between"><span class="text-text-muted">Touchlines (2x)</span><span class="font-mono font-bold">${length}m each</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Goal lines (2x)</span><span class="font-mono font-bold">${width}m each</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Halfway line</span><span class="font-mono font-bold">${width}m</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Center circle</span><span class="font-mono font-bold">${(2 * Math.PI * centerCircleR).toFixed(1)}m (r=9.15m)</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Penalty areas (2x)</span><span class="font-mono font-bold">${penaltyAreaL}m x ${penaltyAreaW}m</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Goal areas (2x)</span><span class="font-mono font-bold">${goalAreaL}m x ${goalAreaW}m</span></div>`,
        `<div class="flex justify-between font-bold text-primary"><span>Total line length</span><span class="font-mono">${totalLineLength.toFixed(0)}m</span></div>`,
      ].join('');
      const lineWidthM = lineWidthCm / 100;
      const paintAreaSqM = totalLineLength * lineWidthM;
      const paintLiters = paintAreaSqM * 0.3;
      const grassSeedKg = area * 0.035;
      const fertilizerKg = area * 0.025;
      document.getElementById('sc-materials')!.innerHTML = [
        `<div class="flex justify-between"><span class="text-text-muted">Marking paint (line width: ${lineWidthCm}cm)</span><span class="font-mono font-bold">${paintLiters.toFixed(1)} liters</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Grass seed (new field)</span><span class="font-mono font-bold">${grassSeedKg.toFixed(0)} kg</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Grass seed (overseeding)</span><span class="font-mono font-bold">${(grassSeedKg * 0.4).toFixed(0)} kg</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Fertilizer (annual)</span><span class="font-mono font-bold">${fertilizerKg.toFixed(0)} kg</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Corner flag poles</span><span class="font-mono font-bold">4</span></div>`,
        `<div class="flex justify-between"><span class="text-text-muted">Goal posts (2 sets)</span><span class="font-mono font-bold">7.32m x 2.44m</span></div>`,
      ].join('');
      document.dispatchEvent(new CustomEvent('calc-update'));
    }
    setTimeout(() => {
      (document.getElementById('sc-linewidth') as HTMLInputElement).value = '12';
      document.querySelectorAll('.sc-in').forEach(el => { el.addEventListener('input', calcSC); el.addEventListener('change', calcSC); });
      calcSC();
    }, 50);
  </script>
</CalculatorLayout>
